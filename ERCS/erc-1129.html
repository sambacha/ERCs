<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>Standardised DAPP announcements | Ethereum Improvement Proposals</title>
    <meta
      property="og:title"
      content="Standardised DAPP announcements | Ethereum Improvement Proposals"
    />
    <meta name="description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta property="og:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta name="twitter:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
  
  <meta name="generator" content="Jekyll" />
  <meta property="og:locale" content="en_US" />
  <link rel="canonical" href="http://localhost:4000/ERCS/erc-1129" />
  <meta property="og:url" content="http://localhost:4000/ERCS/erc-1129" />
  <meta property="og:site_name" content="Ethereum Improvement Proposals" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "http://localhost:4000",
      "name": "Ethereum Improvement Proposals",
      "description": "Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
  <link rel="stylesheet" href="/assets/css/style.css" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ethereum Improvement Proposals" /><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/override.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", (event) => {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    });
  </script>
  <script type="text/javascript">
    window.MathJax = {
      loader: {
        load: ['input/tex-base', 'output/chtml']
      },
      tex: {
        inlineMath: [['$', '$']],
        displayMath: [['$$', '$$']],
        processEscapes: true,
        processEnvironments: false,
        processRefs: false
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js" integrity="sha384-/1zmJ1mBdfKIOnwPxpdG6yaRrxP6qu3eVYm0cz2nOx+AcL4d3AqEFrwcqGZVVroG" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/citation-js/0.6.7/citation.min.js" integrity="sha512-N+LDFMa9owHXGS+CyMrBvuxq2QuGl3fiB/7cys3aUEL7K6P1soHGqsS0sjHXZpwNd9Kz0m3R4IPy1HYRi6ROEQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript">
    addEventListener('DOMContentLoaded', async () => {
      const Cite = window.require('citation-js');
      const citationElements = document.querySelectorAll('.language-csl-json');
      for (let citationElement of citationElements) {
        try {
          const citation = await Cite.async(citationElement);
          const template = document.createElement('template');
          template.innerHTML = citation.format('bibliography', {
            format: 'html',
            template: 'apa',
            lang: 'en-US'
          });
          if (citationElement.parentElement && citationElement.parentElement.matches('pre')) {
            citationElement.parentElement.replaceWith(template.content);
          } else {
            citationElement.replaceWith(template.content);
          }
        } catch (e) {
          console.error("unable to render citation", e);
        }
      }
    });
  </script>
</head>
<body><header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/">Ethereum Improvement Proposals</a><nav class="site-nav d-flex">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger row p-2"><a class="page-link col" href="/all">All</a><a class="page-link col" href="/core">Core</a><a class="page-link col" href="/networking">Networking</a><a class="page-link col" href="/interface">Interface</a><a class="page-link col" href="/erc">ERC</a><a class="page-link col" href="/meta">Meta</a><a class="page-link col" href="/informational">Informational</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Standardised DAPP announcements</h1>
  </header>

  <div class="post-content">
    <h2 id="simple-summary">Simple Summary</h2>
<p>Standardisation of announcements in DAPPs and services on Ethereum network. This ERC provides proposed mechanics to increase the quality of service provided by DAPP developers and service providers, by setting a framework for announcements. Be it transitioning to a new smart contract or just freezing the service for some reason.</p>

<h2 id="abstract">Abstract</h2>
<p>The proposed ERC defines format on how to post announcements about the service as well as how to remove them. It also defines mechanics on posting permissions and human friendly interface.</p>

<h2 id="motivation">Motivation</h2>
<p>Currently there are no guidelines on how to notify the users of the service status in the DAPPs. This is especially obvious in ERC20 and it’s derivates. If the service is impeded by any reason it is good practice to have some sort of guidelines on how to announce that to the user. The standardisation would also provide traceability of the service’s status.</p>

<h2 id="specification">Specification</h2>

<h3 id="structures">Structures</h3>

<h4 id="announcer">Announcer</h4>

<p>Stores information about the announcement maker. The <code class="language-plaintext highlighter-rouge">allowedToPost</code> stores posting permissions and is used for modifiers limiting announcement posting only to authorised entities. The <code class="language-plaintext highlighter-rouge">name</code> is used for human friendly identifier of the author to be stored.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">struct</span> <span class="nx">Announcer</span><span class="p">{</span>
  <span class="nx">bool</span> <span class="nx">allowedToPost</span><span class="p">;</span>
  <span class="nx">string</span> <span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="announcement">Announcement</h4>

<p>Stores information about the individual announcement. The human friendly author identifier is stored in <code class="language-plaintext highlighter-rouge">author</code>. Ethereum address associated with the author is stored in <code class="language-plaintext highlighter-rouge">authorAddress</code>. The announcement itself is stored in <code class="language-plaintext highlighter-rouge">post</code>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">struct</span> <span class="nx">Announcement</span><span class="p">{</span>
  <span class="nx">string</span> <span class="nx">author</span><span class="p">;</span>
  <span class="nx">address</span> <span class="nx">authorAddress</span><span class="p">;</span>
  <span class="nx">string</span> <span class="nx">post</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="methods">Methods</h3>
<h4 id="the-number-of-ammouncements">the number of ammouncements</h4>

<p>Returns the number of announcement currently active.</p>

<p>OPTIONAL - this method can be used to provide quicker information for the UI, but could also be retrieved from <code class="language-plaintext highlighter-rouge">numberOfMessages</code> variable.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">theNumberOfAnnouncements</span><span class="p">()</span> <span class="kr">public</span> <span class="nx">constant</span> <span class="nx">returns</span><span class="p">(</span><span class="nx">uint256</span> <span class="nx">_numberOfAnnouncements</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="read-posts">read posts</h4>

<p>Returns the specified announcement as well as human friendly poster identificator (name or nickname).</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">readPosts</span><span class="p">(</span><span class="nx">uint256</span> <span class="nx">_postNumber</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">constant</span> <span class="nx">returns</span><span class="p">(</span><span class="nx">string</span> <span class="nx">_author</span><span class="p">,</span> <span class="nx">string</span> <span class="nx">_post</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="give-posting-permission">give posting permission</h4>

<p>Sets posting permissions of the address <code class="language-plaintext highlighter-rouge">_newAnnouncer</code> to <code class="language-plaintext highlighter-rouge">_postingPrivileges</code> and can also be used to revoke those permissions. The <code class="language-plaintext highlighter-rouge">_posterName</code> is human friendly author identificator used in the announcement data.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">givePostingPermission</span><span class="p">(</span><span class="nx">address</span> <span class="nx">_newAnnouncer</span><span class="p">,</span> <span class="nx">bool</span> <span class="nx">_postingPrivileges</span><span class="p">,</span> <span class="nx">string</span> <span class="nx">_posterName</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">onlyOwner</span> <span class="nx">returns</span><span class="p">(</span><span class="nx">bool</span> <span class="nx">success</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="can-post">can post</h4>

<p>Checks if the entity that wants to post an announcement has the posting privilieges.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">modifier</span> <span class="nx">canPost</span><span class="p">{</span>
 <span class="nx">require</span><span class="p">(</span><span class="nx">posterData</span><span class="p">[</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">].</span><span class="nx">allowedToPost</span><span class="p">);</span>
 <span class="nx">_</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="post-announcement">post announcement</h4>

<p>Lets user post announcements, but only if they have their posting privileges set to <code class="language-plaintext highlighter-rouge">true</code>. The announcement is sent in <code class="language-plaintext highlighter-rouge">_message</code> variable.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">postAnnouncement</span><span class="p">(</span><span class="nx">string</span> <span class="nx">_message</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">canPost</span>
</code></pre></div></div>

<h4 id="remove-announcement">remove announcement</h4>

<p>Removes an announcement with <code class="language-plaintext highlighter-rouge">_messageNumber</code> announcement identifier and rearranges the mapping so there are no empty slots. The <code class="language-plaintext highlighter-rouge">_removalReason</code> is used to update users if the issue that caused the announcement is resolved or what are the next steps from the service provider / DAPP development team.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">removeAnnouncement</span><span class="p">(</span><span class="nx">uint256</span> <span class="nx">_messageNumber</span><span class="p">,</span> <span class="nx">string</span> <span class="nx">_removalReason</span><span class="p">)</span> <span class="kr">public</span>
</code></pre></div></div>

<h3 id="events">Events</h3>

<h4 id="new-announcement">New announcement</h4>

<p>MUST trigger when new announcement is created.</p>

<p>Every time there is a new announcement it should be advertised in this event. It holds the information about author <code class="language-plaintext highlighter-rouge">author</code> and the announcement istelf <code class="language-plaintext highlighter-rouge">message</code>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">event</span> <span class="nx">NewAnnouncement</span><span class="p">(</span><span class="nx">string</span> <span class="nx">author</span><span class="p">,</span> <span class="nx">string</span> <span class="nx">message</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="removed-announcement">Removed announcement</h4>

<p>MUST trigger when an announcement is removed.</p>

<p>Every time an announcement is removed it should be advertised in this event. It holds the information about author <code class="language-plaintext highlighter-rouge">author</code>, the announcement itself <code class="language-plaintext highlighter-rouge">message</code>, the reason for removal or explanation of the solution <code class="language-plaintext highlighter-rouge">reason</code> and the address of the entity that removed the announcement <code class="language-plaintext highlighter-rouge">remover</code>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">event</span> <span class="nx">RemovedAnnouncement</span><span class="p">(</span><span class="nx">string</span> <span class="nx">author</span><span class="p">,</span> <span class="nx">string</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">string</span> <span class="nx">reason</span><span class="p">,</span> <span class="nx">address</span> <span class="nx">remover</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="rationale">Rationale</h2>
<p>The proposed solution was designed with UX in mind . It provides mechanics that serve to present the announcements in the user friendly way. It is meant to be deployed as a Solidity smart contract on Ethereum network.</p>

<h2 id="test-cases">Test Cases</h2>
<p>The proposed version is deployed on Ropsten testnet all of the information can be found <a href="https://ropsten.etherscan.io/address/0xb04f67172b9733837e59ebaf03d277279635c8e6#readContract">here</a>.</p>

<h2 id="implementation">Implementation</h2>

<h2 id="copyright">Copyright</h2>
<p>Copyright and related rights waived via <a href="/LICENSE">CC0</a>.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ethereum Improvement Proposals</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ethereum Improvement Proposals</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ethereum/EIPs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ethereum/EIPs</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
