<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>dApp Components (avatar) &amp; Universal Wallet | Ethereum Improvement Proposals</title>
    <meta
      property="og:title"
      content="dApp Components (avatar) &amp; Universal Wallet | Ethereum Improvement Proposals"
    />
    <meta name="description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta property="og:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta name="twitter:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
  
  <meta name="generator" content="Jekyll" />
  <meta property="og:locale" content="en_US" />
  <link rel="canonical" href="http://localhost:4000/ERCS/erc-1438" />
  <meta property="og:url" content="http://localhost:4000/ERCS/erc-1438" />
  <meta property="og:site_name" content="Ethereum Improvement Proposals" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "http://localhost:4000",
      "name": "Ethereum Improvement Proposals",
      "description": "Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
  <link rel="stylesheet" href="/assets/css/style.css" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ethereum Improvement Proposals" /><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/override.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", (event) => {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    });
  </script>
  <script type="text/javascript">
    window.MathJax = {
      loader: {
        load: ['input/tex-base', 'output/chtml']
      },
      tex: {
        inlineMath: [['$', '$']],
        displayMath: [['$$', '$$']],
        processEscapes: true,
        processEnvironments: false,
        processRefs: false
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js" integrity="sha384-/1zmJ1mBdfKIOnwPxpdG6yaRrxP6qu3eVYm0cz2nOx+AcL4d3AqEFrwcqGZVVroG" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/citation-js/0.6.7/citation.min.js" integrity="sha512-N+LDFMa9owHXGS+CyMrBvuxq2QuGl3fiB/7cys3aUEL7K6P1soHGqsS0sjHXZpwNd9Kz0m3R4IPy1HYRi6ROEQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript">
    addEventListener('DOMContentLoaded', async () => {
      const Cite = window.require('citation-js');
      const citationElements = document.querySelectorAll('.language-csl-json');
      for (let citationElement of citationElements) {
        try {
          const citation = await Cite.async(citationElement);
          const template = document.createElement('template');
          template.innerHTML = citation.format('bibliography', {
            format: 'html',
            template: 'apa',
            lang: 'en-US'
          });
          if (citationElement.parentElement && citationElement.parentElement.matches('pre')) {
            citationElement.parentElement.replaceWith(template.content);
          } else {
            citationElement.replaceWith(template.content);
          }
        } catch (e) {
          console.error("unable to render citation", e);
        }
      }
    });
  </script>
</head>
<body><header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/">Ethereum Improvement Proposals</a><nav class="site-nav d-flex">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger row p-2"><a class="page-link col" href="/all">All</a><a class="page-link col" href="/core">Core</a><a class="page-link col" href="/networking">Networking</a><a class="page-link col" href="/interface">Interface</a><a class="page-link col" href="/erc">ERC</a><a class="page-link col" href="/meta">Meta</a><a class="page-link col" href="/informational">Informational</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">dApp Components (avatar) &amp; Universal Wallet</h1>
  </header>

  <div class="post-content">
    <h2 id="simple-summary">Simple Summary</h2>
<p>Contracts are open source based. And most developers use the public contracts at the start of the project to modify or simply include them. This is project-oriented centralized development and I think it is a waste of resources. Therefore, we propose to make dApp or contracts component-ready for use in other services.</p>

<h2 id="abstract">Abstract</h2>
<p>There have been suggestions for modified tokens based on erc20, but since many tokens have already been built on erc20, it is necessary to increase the utilization of already developed erc20 tokens. Therefore, we propose a universal wallet that can use erc20 tokens universally. We also propose a component dApp that allows you to create and save your avatar (&amp; social badge system), and use it immediately in other services. All of the dApps suggested in this document are based on decentralized development and use that anyone can create and participate in.</p>

<h2 id="motivation">Motivation</h2>
<p>While many projects are under development in an open source way, they are simply adding and deploy with open sources to their projects. This means that you are developing a centralized service that uses your own dApp-generated information on your own. In order to improve the block chain ecosystem, all resources created by dApp and placed in the public block chain must be reusable in another dApp. This means that you can enhance your service by exchanging the generated information with other dApp. Likewise, ERC20 Tokens require Universal Wallet standards to be easy to use for direct transactions.</p>

<h3 id="seeds-for-improvement-of-the-blockchain-ecosystem">Seeds for improvement of the blockchain ecosystem.</h3>
<ul>
  <li>Synergy - With other dApps and resources.</li>
  <li>Enhanced interface - For ERC20 tokens.</li>
  <li>Easy &amp; Decentralized - Everyone should be able to add to their services easily, without censorship.</li>
</ul>

<h4 id="the-following-avatar-store-badge-system-and-universal-wallet-are-kind-of-examples-about-component-dapp">The following avatar store, badge system, and universal wallet are kind of examples about component dApp.</h4>
<p><img src="../assets/eip-1438/intro.png" alt="intro" /></p>

<h2 id="specification">Specification</h2>
<h3 id="1-avatar">1. Avatar</h3>
<h4 id="11-avatar-shop">1.1. Avatar Shop</h4>
<ul>
  <li>The avatar store is created after ERC20 currency is set.</li>
  <li>You can customize asset category &amp; viewer script.</li>
</ul>

<h4 id="12-upload-asset--user-data">1.2. Upload asset &amp; user data</h4>
<p>The avatarâ€™s information &amp; assets are stored in the event log part of the block chain.</p>
<ul>
  <li>Assets are SVG format. (compressed with gzip)</li>
  <li>avatar information data is json (compressed with msgpack)</li>
</ul>

<p><img src="../assets/eip-1438/avatar.png" alt="avatar" />
** The avatar assets from <a href="https://github.com/fangpenlin/avataaars">Avataaars</a> developed by <a href="https://twitter.com/fangpenlin">Fang-Pen Lin</a>, the original avatar is designed by <a href="https://twitter.com/pablostanley">Pablo Stanley</a>.</p>

<h3 id="2-universal-wallet">2. Universal Wallet</h3>
<p><img src="../assets/eip-1438/wallet.png" alt="wallet" /></p>
<h4 id="21-erc20-interface">2.1. ERC20 interface</h4>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">contract</span> <span class="nx">ERC20Interface</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">totalSupply</span><span class="p">()</span> <span class="kr">public</span> <span class="nx">constant</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint</span><span class="p">);</span>
    <span class="kd">function</span> <span class="nx">balanceOf</span><span class="p">(</span><span class="nx">address</span> <span class="nx">tokenOwner</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">constant</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint</span> <span class="nx">balance</span><span class="p">);</span>
    <span class="kd">function</span> <span class="nx">allowance</span><span class="p">(</span><span class="nx">address</span> <span class="nx">tokenOwner</span><span class="p">,</span> <span class="nx">address</span> <span class="nx">spender</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">constant</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint</span> <span class="nx">remaining</span><span class="p">);</span>
    <span class="kd">function</span> <span class="nx">transfer</span><span class="p">(</span><span class="nx">address</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">tokens</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">bool</span> <span class="nx">success</span><span class="p">);</span>
    <span class="kd">function</span> <span class="nx">approve</span><span class="p">(</span><span class="nx">address</span> <span class="nx">spender</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">tokens</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">bool</span> <span class="nx">success</span><span class="p">);</span>
    <span class="kd">function</span> <span class="nx">transferFrom</span><span class="p">(</span><span class="nx">address</span> <span class="k">from</span><span class="p">,</span> <span class="nx">address</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">tokens</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">bool</span> <span class="nx">success</span><span class="p">);</span>

    <span class="nx">event</span> <span class="nx">Transfer</span><span class="p">(</span><span class="nx">address</span> <span class="nx">indexed</span> <span class="k">from</span><span class="p">,</span> <span class="nx">address</span> <span class="nx">indexed</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">tokens</span><span class="p">);</span>
    <span class="nx">event</span> <span class="nx">Approval</span><span class="p">(</span><span class="nx">address</span> <span class="nx">indexed</span> <span class="nx">tokenOwner</span><span class="p">,</span> <span class="nx">address</span> <span class="nx">indexed</span> <span class="nx">spender</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">tokens</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="22-fixed-erc20-contract-for-receive-approval-and-execute-function-in-one-call">2.2. Fixed ERC20 contract for receive approval and execute function in one call</h4>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">approveAndCall</span><span class="p">(</span><span class="nx">address</span> <span class="nx">spender</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">tokens</span><span class="p">,</span> <span class="nx">bytes</span> <span class="nx">data</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">bool</span> <span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">allowed</span><span class="p">[</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">][</span><span class="nx">spender</span><span class="p">]</span> <span class="o">=</span> <span class="nx">tokens</span><span class="p">;</span>
    <span class="nx">emit</span> <span class="nx">Approval</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">,</span> <span class="nx">spender</span><span class="p">,</span> <span class="nx">tokens</span><span class="p">);</span>
    <span class="nx">ApproveAndCallFallBack</span><span class="p">(</span><span class="nx">spender</span><span class="p">).</span><span class="nx">receiveApproval</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">,</span> <span class="nx">tokens</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="23-and-approveandcallfallback-contract-for-fixed-erc20">2.3. And ApproveAndCallFallBack contract for Fixed ERC20.</h4>
<p>However, many ERC20 tokens are not prepared.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">contract</span> <span class="nx">ApproveAndCallFallBack</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">receiveApproval</span><span class="p">(</span><span class="nx">address</span> <span class="k">from</span><span class="p">,</span> <span class="nx">uint256</span> <span class="nx">tokens</span><span class="p">,</span> <span class="nx">address</span> <span class="nx">token</span><span class="p">,</span> <span class="nx">bytes</span> <span class="nx">data</span><span class="p">)</span> <span class="kr">public</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<h4 id="24-universal-wallet">2.4. Universal Wallet</h4>
<p>We propose a Universal Wallet to solve this problem.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">contract</span> <span class="nx">UniversalWallet</span> <span class="nx">is</span> <span class="nx">_Base</span> <span class="p">{</span>

    <span class="kd">constructor</span><span class="p">(</span><span class="nx">bytes</span> <span class="nx">_msgPack</span><span class="p">)</span> <span class="nx">_Base</span><span class="p">(</span><span class="nx">_msgPack</span><span class="p">)</span> <span class="kr">public</span> <span class="p">{}</span>
    <span class="kd">function</span> <span class="p">()</span> <span class="kr">public</span> <span class="nx">payable</span> <span class="p">{}</span>

    <span class="c1">//-------------------------------------------------------</span>
    <span class="c1">// erc20 interface</span>
    <span class="c1">//-------------------------------------------------------</span>
    <span class="kd">function</span> <span class="nx">balanceOf</span><span class="p">(</span><span class="nx">address</span> <span class="nx">_erc20</span><span class="p">)</span> <span class="kr">public</span> <span class="nx">constant</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">uint</span> <span class="nx">balance</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">_erc20</span><span class="o">==</span><span class="nx">address</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
            <span class="k">return</span> <span class="nx">address</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">balance</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">_ERC20Interface</span><span class="p">(</span><span class="nx">_erc20</span><span class="p">).</span><span class="nx">balanceOf</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">transfer</span><span class="p">(</span><span class="nx">address</span> <span class="nx">_erc20</span><span class="p">,</span> <span class="nx">address</span> <span class="nx">_to</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">_tokens</span><span class="p">)</span> <span class="nx">onlyOwner</span> <span class="kr">public</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">bool</span> <span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">require</span><span class="p">(</span><span class="nx">balanceOf</span><span class="p">(</span><span class="nx">_erc20</span><span class="p">)</span><span class="o">&gt;=</span><span class="nx">_tokens</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">_erc20</span><span class="o">==</span><span class="nx">address</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
            <span class="nx">_to</span><span class="p">.</span><span class="nx">transfer</span><span class="p">(</span><span class="nx">_tokens</span><span class="p">);</span>
        <span class="k">else</span>
            <span class="k">return</span> <span class="nx">_ERC20Interface</span><span class="p">(</span><span class="nx">_erc20</span><span class="p">).</span><span class="nx">transfer</span><span class="p">(</span><span class="nx">_to</span><span class="p">,</span><span class="nx">_tokens</span><span class="p">);</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">approve</span><span class="p">(</span><span class="nx">address</span> <span class="nx">_erc20</span><span class="p">,</span> <span class="nx">address</span> <span class="nx">_spender</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">_tokens</span><span class="p">)</span> <span class="nx">onlyOwner</span> <span class="kr">public</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">bool</span> <span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">require</span><span class="p">(</span><span class="nx">_erc20</span> <span class="o">!=</span> <span class="nx">address</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
        <span class="k">return</span> <span class="nx">_ERC20Interface</span><span class="p">(</span><span class="nx">_erc20</span><span class="p">).</span><span class="nx">approve</span><span class="p">(</span><span class="nx">_spender</span><span class="p">,</span><span class="nx">_tokens</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">//-------------------------------------------------------</span>
    <span class="c1">// pay interface</span>
    <span class="c1">//-------------------------------------------------------</span>
    <span class="kd">function</span> <span class="nx">pay</span><span class="p">(</span><span class="nx">address</span> <span class="nx">_store</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">_tokens</span><span class="p">,</span> <span class="nx">uint256</span><span class="p">[]</span> <span class="nx">_options</span><span class="p">)</span> <span class="nx">onlyOwner</span> <span class="kr">public</span> <span class="p">{</span>
        <span class="nx">address</span> <span class="nx">erc20</span>   <span class="o">=</span> <span class="nx">_ApproveAndCallFallBack</span><span class="p">(</span><span class="nx">_store</span><span class="p">).</span><span class="nx">erc20</span><span class="p">();</span>
        <span class="nx">address</span> <span class="nx">spender</span> <span class="o">=</span> <span class="nx">_ApproveAndCallFallBack</span><span class="p">(</span><span class="nx">_store</span><span class="p">).</span><span class="nx">spender</span><span class="p">();</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">erc20</span> <span class="o">==</span> <span class="nx">address</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">transfer</span><span class="p">(</span><span class="nx">erc20</span><span class="p">,</span><span class="nx">spender</span><span class="p">,</span><span class="nx">_tokens</span><span class="p">);</span>
            <span class="nx">_ApproveAndCallFallBack</span><span class="p">(</span><span class="nx">_store</span><span class="p">).</span><span class="nx">receiveApproval</span><span class="p">(</span><span class="nx">_options</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">_ERC20Interface</span><span class="p">(</span><span class="nx">erc20</span><span class="p">).</span><span class="nx">approve</span><span class="p">(</span><span class="nx">spender</span><span class="p">,</span><span class="nx">_tokens</span><span class="p">);</span>
            <span class="nx">_ApproveAndCallFallBack</span><span class="p">(</span><span class="nx">_store</span><span class="p">).</span><span class="nx">receiveApproval</span><span class="p">(</span><span class="nx">_options</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">pay</span><span class="p">(</span><span class="nx">address</span> <span class="nx">_store</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">_tokens</span><span class="p">,</span> <span class="nx">bytes</span> <span class="nx">_msgPack</span><span class="p">)</span> <span class="nx">onlyOwner</span> <span class="kr">public</span> <span class="p">{</span>
        <span class="nx">address</span> <span class="nx">erc20</span>   <span class="o">=</span> <span class="nx">_ApproveAndCallFallBack</span><span class="p">(</span><span class="nx">_store</span><span class="p">).</span><span class="nx">erc20</span><span class="p">();</span>
        <span class="nx">address</span> <span class="nx">spender</span> <span class="o">=</span> <span class="nx">_ApproveAndCallFallBack</span><span class="p">(</span><span class="nx">_store</span><span class="p">).</span><span class="nx">spender</span><span class="p">();</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">erc20</span> <span class="o">==</span> <span class="nx">address</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">transfer</span><span class="p">(</span><span class="nx">erc20</span><span class="p">,</span><span class="nx">spender</span><span class="p">,</span><span class="nx">_tokens</span><span class="p">);</span>
            <span class="nx">_ApproveAndCallFallBack</span><span class="p">(</span><span class="nx">_store</span><span class="p">).</span><span class="nx">receiveApproval</span><span class="p">(</span><span class="nx">_msgPack</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">_ERC20Interface</span><span class="p">(</span><span class="nx">erc20</span><span class="p">).</span><span class="nx">approve</span><span class="p">(</span><span class="nx">spender</span><span class="p">,</span><span class="nx">_tokens</span><span class="p">);</span>
            <span class="nx">_ApproveAndCallFallBack</span><span class="p">(</span><span class="nx">_store</span><span class="p">).</span><span class="nx">receiveApproval</span><span class="p">(</span><span class="nx">_msgPack</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="test-cases">Test Cases</h2>
<ul>
  <li>https://www.nitro888.com</li>
  <li>https://github.com/Nitro888/nitro888.github.io</li>
  <li>https://github.com/Nitro888/dApp-Alliance</li>
</ul>

<h2 id="copyright">Copyright</h2>
<p>Copyright and related rights waived via <a href="/LICENSE">CC0</a>.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ethereum Improvement Proposals</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ethereum Improvement Proposals</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ethereum/EIPs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ethereum/EIPs</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
