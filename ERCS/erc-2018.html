<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>Clearable Token | Ethereum Improvement Proposals</title>
    <meta
      property="og:title"
      content="Clearable Token | Ethereum Improvement Proposals"
    />
    <meta name="description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta property="og:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta name="twitter:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
  
  <meta name="generator" content="Jekyll" />
  <meta property="og:locale" content="en_US" />
  <link rel="canonical" href="http://localhost:4000/ERCS/erc-2018" />
  <meta property="og:url" content="http://localhost:4000/ERCS/erc-2018" />
  <meta property="og:site_name" content="Ethereum Improvement Proposals" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "http://localhost:4000",
      "name": "Ethereum Improvement Proposals",
      "description": "Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
  <link rel="stylesheet" href="/assets/css/style.css" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ethereum Improvement Proposals" /><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/override.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", (event) => {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    });
  </script>
  <script type="text/javascript">
    window.MathJax = {
      loader: {
        load: ['input/tex-base', 'output/chtml']
      },
      tex: {
        inlineMath: [['$', '$']],
        displayMath: [['$$', '$$']],
        processEscapes: true,
        processEnvironments: false,
        processRefs: false
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js" integrity="sha384-/1zmJ1mBdfKIOnwPxpdG6yaRrxP6qu3eVYm0cz2nOx+AcL4d3AqEFrwcqGZVVroG" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/citation-js/0.6.7/citation.min.js" integrity="sha512-N+LDFMa9owHXGS+CyMrBvuxq2QuGl3fiB/7cys3aUEL7K6P1soHGqsS0sjHXZpwNd9Kz0m3R4IPy1HYRi6ROEQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript">
    addEventListener('DOMContentLoaded', async () => {
      const Cite = window.require('citation-js');
      const citationElements = document.querySelectorAll('.language-csl-json');
      for (let citationElement of citationElements) {
        try {
          const citation = await Cite.async(citationElement);
          const template = document.createElement('template');
          template.innerHTML = citation.format('bibliography', {
            format: 'html',
            template: 'apa',
            lang: 'en-US'
          });
          if (citationElement.parentElement && citationElement.parentElement.matches('pre')) {
            citationElement.parentElement.replaceWith(template.content);
          } else {
            citationElement.replaceWith(template.content);
          }
        } catch (e) {
          console.error("unable to render citation", e);
        }
      }
    });
  </script>
</head>
<body><header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/">Ethereum Improvement Proposals</a><nav class="site-nav d-flex">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger row p-2"><a class="page-link col" href="/all">All</a><a class="page-link col" href="/core">Core</a><a class="page-link col" href="/networking">Networking</a><a class="page-link col" href="/interface">Interface</a><a class="page-link col" href="/erc">ERC</a><a class="page-link col" href="/meta">Meta</a><a class="page-link col" href="/informational">Informational</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Clearable Token</h1>
  </header>

  <div class="post-content">
    <h2 id="simple-summary">Simple Summary</h2>

<blockquote>
  <p>“In banking and finance, clearing denotes all activities from the time a commitment is made for a transaction until it is settled.” <a href="https://en.wikipedia.org/wiki/Clearing_(finance)">[1]</a></p>
</blockquote>

<h2 id="actors">Actors</h2>

<h4 id="clearing-agent">Clearing Agent</h4>

<p>An account which processes, executes or rejects a clearable transfer.</p>

<h4 id="operator">Operator</h4>
<p>An account which has been approved by an account to order clearable transfers on its behalf.</p>

<h4 id="orderer">Orderer</h4>
<p>The account which orders a clearable transfer. This can be the account owner itself, or any account, which has been approved as an operator for the account.</p>

<h2 id="abstract">Abstract</h2>

<p>The clearing process turns the promise of a transfer into the actual movement of money from one account to another. A clearing agent decides if the transfer can be executed or not. The amount which should be transferred is not deducted from the balance of the payer, but neither is it available for another transfer and therefore ensures, that the execution of the transfer will be successful when it is executed.</p>

<h2 id="motivation">Motivation</h2>

<p>A regulated token needs to comply with all the legal requirements, especially <a href="https://en.wikipedia.org/wiki/Know_your_customer">KYC</a> and <a href="https://en.wikipedia.org/wiki/Money_laundering#Anti-money_laundering">AML</a>. Some of these checks may not be able to be done on-chain and therefore a transfer may not be completed in one step. Currently there is no EIP to make such off-chain checks possible. This proposal allows a user to order a transfer, which can be checked by a clearing agent off-chain. Depending on the result of it, the clearing agent will either execute or cancel the transfer. To provide more information why a transfer is cancelled, the clearing agent can add a reason why it is not executed.</p>

<h2 id="specification">Specification</h2>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">ClearableToken</span> <span class="cm">/* is ERC-1996 */</span> <span class="p">{</span>
    <span class="k">enum</span> <span class="n">ClearableTransferStatusCode</span> <span class="p">{</span> <span class="n">Nonexistent</span><span class="p">,</span> <span class="n">Ordered</span><span class="p">,</span> <span class="n">InProcess</span><span class="p">,</span> <span class="n">Executed</span><span class="p">,</span> <span class="n">Rejected</span><span class="p">,</span> <span class="n">Cancelled</span> <span class="p">}</span>

    <span class="k">function</span> <span class="n">orderTransfer</span><span class="p">(</span><span class="kt">string</span> <span class="k">calldata</span> <span class="n">operationId</span><span class="p">,</span> <span class="kt">address</span> <span class="n">to</span><span class="p">,</span> <span class="kt">uint256</span> <span class="n">value</span><span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">orderTransferFrom</span><span class="p">(</span><span class="kt">string</span> <span class="k">calldata</span> <span class="n">operationId</span><span class="p">,</span> <span class="kt">address</span> <span class="n">from</span><span class="p">,</span> <span class="kt">address</span> <span class="n">to</span><span class="p">,</span> <span class="kt">uint256</span> <span class="n">value</span><span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">cancelTransfer</span><span class="p">(</span><span class="kt">string</span> <span class="k">calldata</span> <span class="n">operationId</span><span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">processClearableTransfer</span><span class="p">(</span><span class="kt">string</span> <span class="k">calldata</span> <span class="n">operationId</span><span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">executeClearableTransfer</span><span class="p">(</span><span class="kt">string</span> <span class="k">calldata</span> <span class="n">operationId</span><span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">rejectClearableTransfer</span><span class="p">(</span><span class="kt">string</span> <span class="k">calldata</span> <span class="n">operationId</span><span class="p">,</span> <span class="kt">string</span> <span class="k">calldata</span> <span class="n">reason</span><span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">retrieveClearableTransferData</span><span class="p">(</span><span class="kt">string</span> <span class="k">calldata</span> <span class="n">operationId</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">address</span> <span class="n">from</span><span class="p">,</span> <span class="kt">address</span> <span class="n">to</span><span class="p">,</span> <span class="kt">uint256</span> <span class="n">value</span><span class="p">,</span> <span class="n">ClearableTransferStatusCode</span> <span class="n">status</span><span class="p">);</span>

    <span class="k">function</span> <span class="n">authorizeClearableTransferOperator</span><span class="p">(</span><span class="kt">address</span> <span class="n">operator</span><span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">revokeClearableTransferOperator</span><span class="p">(</span><span class="kt">address</span> <span class="n">operator</span><span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">isClearableTransferOperatorFor</span><span class="p">(</span><span class="kt">address</span> <span class="n">operator</span><span class="p">,</span> <span class="kt">address</span> <span class="n">from</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>

    <span class="k">event</span> <span class="n">ClearableTransferOrdered</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">orderer</span><span class="p">,</span> <span class="kt">string</span> <span class="n">operationId</span><span class="p">,</span> <span class="kt">address</span> <span class="k">indexed</span> <span class="n">from</span><span class="p">,</span> <span class="kt">address</span> <span class="k">indexed</span> <span class="n">to</span><span class="p">,</span> <span class="kt">uint256</span> <span class="n">value</span><span class="p">);</span>
    <span class="k">event</span> <span class="n">ClearableTransferInProcess</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">orderer</span><span class="p">,</span> <span class="kt">string</span> <span class="n">operationId</span><span class="p">);</span>
    <span class="k">event</span> <span class="n">ClearableTransferExecuted</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">orderer</span><span class="p">,</span> <span class="kt">string</span> <span class="n">operationId</span><span class="p">);</span>
    <span class="k">event</span> <span class="n">ClearableTransferRejected</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">orderer</span><span class="p">,</span> <span class="kt">string</span> <span class="n">operationId</span><span class="p">,</span> <span class="kt">string</span> <span class="n">reason</span><span class="p">);</span>
    <span class="k">event</span> <span class="n">ClearableTransferCancelled</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">orderer</span><span class="p">,</span> <span class="kt">string</span> <span class="n">operationId</span><span class="p">);</span>
    <span class="k">event</span> <span class="n">AuthorizedClearableTransferOperator</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span> <span class="kt">address</span> <span class="k">indexed</span> <span class="n">account</span><span class="p">);</span>
    <span class="k">event</span> <span class="n">RevokedClearableTransferOperator</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">operator</span><span class="p">,</span> <span class="kt">address</span> <span class="k">indexed</span> <span class="n">account</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="functions">Functions</h3>

<h4 id="ordertransfer">orderTransfer</h4>

<p>Orders a clearable transfer on behalf of the msg.sender in favor of <code class="language-plaintext highlighter-rouge">to</code>. A clearing agent is responsible to either execute or reject the transfer. The function must revert if the operation ID has been used before.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
    <tr>
      <td>to</td>
      <td>The address of the payee, to whom the tokens are to be paid if executed</td>
    </tr>
    <tr>
      <td>value</td>
      <td>The amount to be transferred. Must be less or equal than the balance of the payer.</td>
    </tr>
  </tbody>
</table>

<h4 id="ordertransferfrom">orderTransferFrom</h4>

<p>Orders a clearable transfer on behalf of the payer in favor of the <code class="language-plaintext highlighter-rouge">to</code>. A clearing agent is responsible to either execute or reject the transfer. The function must revert if the operation ID has been used before.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
    <tr>
      <td>from</td>
      <td>The address of the payer, from whom the tokens are to be taken if executed</td>
    </tr>
    <tr>
      <td>to</td>
      <td>The address of the payee, to whom the tokens are to be paid if executed</td>
    </tr>
    <tr>
      <td>value</td>
      <td>The amount to be transferred. Must be less or equal than the balance of the payer.</td>
    </tr>
  </tbody>
</table>

<h4 id="canceltransfer">cancelTransfer</h4>

<p>Cancels the order of a clearable transfer. Only the orderer can cancel their own orders. It must not be successful as soon as the transfer is in status <code class="language-plaintext highlighter-rouge">InProcess</code>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
  </tbody>
</table>

<h4 id="processclearabletransfer">processClearableTransfer</h4>

<p>Sets a clearable transfer to status <code class="language-plaintext highlighter-rouge">InProcess</code>. Only a clearing agent can successfully execute this action. This status is optional, but without it the orderer can cancel the transfer at any time.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
  </tbody>
</table>

<h4 id="executeclearabletransfer">executeClearableTransfer</h4>

<p>Executes a clearable transfer, which means that the tokens are transferred from the payer to the payee. Only a clearing agent can successfully execute this action.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
  </tbody>
</table>

<h4 id="rejectclearabletransfer">rejectClearableTransfer</h4>

<p>Rejects a clearable transfer, which means that the amount that is held is available again to the payer and no transfer is done. Only a clearing agent can successfully execute this action.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
    <tr>
      <td>reason</td>
      <td>A reason given by the clearing agent why the transfer has been rejected</td>
    </tr>
  </tbody>
</table>

<h4 id="retrieveclearabletransferdata">retrieveClearableTransferData</h4>

<p>Retrieves all the information available for a particular clearable transfer.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
  </tbody>
</table>

<h4 id="authorizeclearabletransferoperator">authorizeClearableTransferOperator</h4>

<p>Approves an operator to order transfers on behalf of msg.sender.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operator</td>
      <td>The address to be approved as operator of clearable transfers</td>
    </tr>
  </tbody>
</table>

<h4 id="revokeclearabletransferoperator">revokeClearableTransferOperator</h4>

<p>Revokes the approval to order transfers on behalf of msg.sender.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operator</td>
      <td>The address to be revoked as operator of clearable transfers</td>
    </tr>
  </tbody>
</table>

<h4 id="isclearabletransferoperatorfor">isClearableTransferOperatorFor</h4>

<p>Returns if an operator is approved to order transfers on behalf of <code class="language-plaintext highlighter-rouge">from</code>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operator</td>
      <td>The address to be an operator of clearable transfers</td>
    </tr>
    <tr>
      <td>from</td>
      <td>The address on which the holds would be created</td>
    </tr>
  </tbody>
</table>

<h4 id="transfer">transfer</h4>

<p>It is up to the implementer of the EIP if the <code class="language-plaintext highlighter-rouge">transfer</code> function of ERC-20 should always revert or is allowed under certain circumstances.</p>

<h4 id="transferfrom">transferFrom</h4>

<p>It is up to the implementer of the EIP if the <code class="language-plaintext highlighter-rouge">transferFrom</code> function of ERC-20 should always revert or is allowed under certain circumstances.</p>

<h3 id="events">Events</h3>

<h4 id="clearabletransferordered">ClearableTransferOrdered</h4>

<p>Must be emitted when a clearable transfer is ordered.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>orderer</td>
      <td>The address of the orderer of the transfer</td>
    </tr>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
    <tr>
      <td>from</td>
      <td>The address of the payer, from whom the tokens are to be taken if executed</td>
    </tr>
    <tr>
      <td>to</td>
      <td>The address of the payee, to whom the tokens are to be paid if executed</td>
    </tr>
    <tr>
      <td>value</td>
      <td>The amount to be transferred if executed</td>
    </tr>
  </tbody>
</table>

<h4 id="clearabletransferinprocess">ClearableTransferInProcess</h4>

<p>Must be emitted when a clearable transfer is put in status <code class="language-plaintext highlighter-rouge">ÌnProcess</code>.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>orderer</td>
      <td>The address of the orderer of the transfer</td>
    </tr>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
  </tbody>
</table>

<h4 id="clearabletransferexecuted">ClearableTransferExecuted</h4>

<p>Must be emitted when a clearable transfer is executed.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>orderer</td>
      <td>The address of the orderer of the transfer</td>
    </tr>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
  </tbody>
</table>

<h4 id="clearabletransferrejected">ClearableTransferRejected</h4>

<p>Must be emitted when a clearable transfer is rejected.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>orderer</td>
      <td>The address of the orderer of the transfer</td>
    </tr>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
    <tr>
      <td>reason</td>
      <td>A reason given by the clearing agent why the transfer has been rejected</td>
    </tr>
  </tbody>
</table>

<h4 id="clearabletransfercancelled">ClearableTransferCancelled</h4>

<p>Must be emitted when a clearable transfer is cancelled by its orderer.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>orderer</td>
      <td>The address of the orderer of the transfer</td>
    </tr>
    <tr>
      <td>operationId</td>
      <td>The unique ID to identify the clearable transfer</td>
    </tr>
  </tbody>
</table>

<h4 id="authorizedclearabletransferoperator">AuthorizedClearableTransferOperator</h4>

<p>Emitted when an operator has been approved to order transfers on behalf of another account.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operator</td>
      <td>The address which has been approved as operator of clearable transfers</td>
    </tr>
    <tr>
      <td>account</td>
      <td>Address on which behalf transfers will potentially be ordered</td>
    </tr>
  </tbody>
</table>

<h4 id="revokedclearabletransferoperator">RevokedClearableTransferOperator</h4>

<p>Emitted when an operator has been revoked from ordering transfers on behalf of another account.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>operator</td>
      <td>The address which has been revoked as operator of clearable transfers</td>
    </tr>
    <tr>
      <td>account</td>
      <td>Address on which behalf transfers could potentially be ordered</td>
    </tr>
  </tbody>
</table>

<h2 id="rationale">Rationale</h2>

<p>This EIP uses <a href="./eip-1996.md">EIP-1996</a> to hold the money after a transfer is ordered. A clearing agent, whose implementation is not part of this proposal, acts as a predefined notary to decide if the transfer complies with the rules of the token or not.</p>

<p>The <code class="language-plaintext highlighter-rouge">operationId</code> is a string and not something more gas efficient to allow easy traceability of the hold and allow human readable ids. It is up to the implementer if the string should be stored on-chain or only its hash, as it is enough to identify a hold.</p>

<p>The <code class="language-plaintext highlighter-rouge">operationId</code> is a competitive resource. It is recommended, but not required, that the hold issuers used a unique prefix to avoid collisions.</p>

<p>While not requiring it, the naming of the functions <code class="language-plaintext highlighter-rouge">authorizeClearableTransferOperator</code>, <code class="language-plaintext highlighter-rouge">revokeClearableTransferOperator</code> and <code class="language-plaintext highlighter-rouge">isClearableTransferOperatorFor</code> follows the naming convention of <a href="./eip-777.md">ERC-777</a>.</p>

<h2 id="backwards-compatibility">Backwards Compatibility</h2>

<p>This EIP is fully backwards compatible as its implementation extends the functionality of <a href="./eip-1996.md">EIP-1996</a>.</p>

<h2 id="implementation">Implementation</h2>

<p>The GitHub repository <a href="https://github.com/IoBuilders/clearable-token">IoBuilders/clearable-token</a> contains the reference implementation.</p>

<h2 id="contributors">Contributors</h2>
<p>This proposal has been collaboratively implemented by <a href="https://adhara.io/">adhara.io</a> and <a href="https://io.builders/">io.builders</a>.</p>

<h2 id="copyright">Copyright</h2>
<p>Copyright and related rights waived via <a href="/LICENSE">CC0</a>.</p>

<p>[1] https://en.wikipedia.org/wiki/Clearing_(finance)</p>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ethereum Improvement Proposals</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ethereum Improvement Proposals</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ethereum/EIPs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ethereum/EIPs</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
