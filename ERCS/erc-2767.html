<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>Contract Ownership Governance | Ethereum Improvement Proposals</title>
    <meta
      property="og:title"
      content="Contract Ownership Governance | Ethereum Improvement Proposals"
    />
    <meta name="description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta property="og:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta name="twitter:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
  
  <meta name="generator" content="Jekyll" />
  <meta property="og:locale" content="en_US" />
  <link rel="canonical" href="http://localhost:4000/ERCS/erc-2767" />
  <meta property="og:url" content="http://localhost:4000/ERCS/erc-2767" />
  <meta property="og:site_name" content="Ethereum Improvement Proposals" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "http://localhost:4000",
      "name": "Ethereum Improvement Proposals",
      "description": "Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
  <link rel="stylesheet" href="/assets/css/style.css" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ethereum Improvement Proposals" /><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/override.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", (event) => {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    });
  </script>
  <script type="text/javascript">
    window.MathJax = {
      loader: {
        load: ['input/tex-base', 'output/chtml']
      },
      tex: {
        inlineMath: [['$', '$']],
        displayMath: [['$$', '$$']],
        processEscapes: true,
        processEnvironments: false,
        processRefs: false
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js" integrity="sha384-/1zmJ1mBdfKIOnwPxpdG6yaRrxP6qu3eVYm0cz2nOx+AcL4d3AqEFrwcqGZVVroG" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/citation-js/0.6.7/citation.min.js" integrity="sha512-N+LDFMa9owHXGS+CyMrBvuxq2QuGl3fiB/7cys3aUEL7K6P1soHGqsS0sjHXZpwNd9Kz0m3R4IPy1HYRi6ROEQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript">
    addEventListener('DOMContentLoaded', async () => {
      const Cite = window.require('citation-js');
      const citationElements = document.querySelectorAll('.language-csl-json');
      for (let citationElement of citationElements) {
        try {
          const citation = await Cite.async(citationElement);
          const template = document.createElement('template');
          template.innerHTML = citation.format('bibliography', {
            format: 'html',
            template: 'apa',
            lang: 'en-US'
          });
          if (citationElement.parentElement && citationElement.parentElement.matches('pre')) {
            citationElement.parentElement.replaceWith(template.content);
          } else {
            citationElement.replaceWith(template.content);
          }
        } catch (e) {
          console.error("unable to render citation", e);
        }
      }
    });
  </script>
</head>
<body><header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/">Ethereum Improvement Proposals</a><nav class="site-nav d-flex">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger row p-2"><a class="page-link col" href="/all">All</a><a class="page-link col" href="/core">Core</a><a class="page-link col" href="/networking">Networking</a><a class="page-link col" href="/interface">Interface</a><a class="page-link col" href="/erc">ERC</a><a class="page-link col" href="/meta">Meta</a><a class="page-link col" href="/informational">Informational</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Contract Ownership Governance</h1>
  </header>

  <div class="post-content">
    <h2 id="simple-summary">Simple Summary</h2>

<p>A standard for Governance contracts that holds the administrative ownership of other smart contracts with voting power distributed as <code class="language-plaintext highlighter-rouge">ERC-20</code> tokens.</p>

<h2 id="abstract">Abstract</h2>

<p>The following standard defines the implementation of a standard API for a Governance smart contract based on <code class="language-plaintext highlighter-rouge">ERC-20</code>. Existing <code class="language-plaintext highlighter-rouge">ERC-173</code> compatible contracts can upgrade from private key wallet ownership to a Governance smart contract. Adhering to a standard API enables general tools to populate governance information of various projects, thus increasing transparency.</p>

<h2 id="motivation">Motivation</h2>

<p>Traditionally, many contracts that require that they be owned or controlled in some way use <code class="language-plaintext highlighter-rouge">ERC-173</code> which standardized the use of ownership in the smart contracts. For example to withdraw funds or perform administrative actions.</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">contract</span> <span class="n">dApp</span> <span class="p">{</span>
  <span class="k">function</span> <span class="n">doSomethingAdministrative</span><span class="p">()</span> <span class="k">external</span> <span class="n">onlyOwner</span> <span class="p">{</span>
    <span class="c1">// admin logic that can be performed by a single wallet
</span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Often, such administrative rights for a contract are written for maintenance purpose but users need to trust the owner. Rescue operations by an owner have raised questions on decentralised nature of the projects. Also, there is a possibility of compromise of an owner’s private key.</p>

<p>At present, many governance implementations by ambitious projects need users to visit a specific UI to see governance information about their project. Some examples of live implementations having different API that does the same thing are <a href="https://github.com/compound-finance/compound-protocol/blob/master/contracts/Governance/GovernorAlpha.sol#L27">Compound Governance</a>, <a href="https://github.com/Uniswap/governance/blob/master/contracts/GovernorAlpha.sol#L27">Uniswap Governance</a> and <a href="https://github.com/sushiswap/sushiswap/blob/master/contracts/GovernorAlpha.sol#L45">Sushiswap Governance</a>. It’s just like if the ERC-20 standard wasn’t finalized, then token projects would have their own block explorer. Adhering to a standard API would enable general tools (like Etherscan) to populate governance information, thus increasing transparency to users. Using widely popular <code class="language-plaintext highlighter-rouge">ERC-20</code> token as a governance token, existing tools built to work with <code class="language-plaintext highlighter-rouge">ERC-20</code> can already display voters. This can result in a wide adoption for contract governance over private key based ownership.</p>

<h2 id="specification">Specification</h2>

<p>A Governance contract that is compliant with <code class="language-plaintext highlighter-rouge">ERC-2767</code> shall implement the following interfaces:</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// @title ERC-2767 Governance
/// @dev ERC-165 InterfaceID: 0xd8b04e0e
</span><span class="k">interface</span> <span class="n">ERC2767</span> <span class="k">is</span> <span class="n">ERC165</span> <span class="p">{</span>
    <span class="c1">/// @notice Gets number votes required for achieving consensus
</span>    <span class="c1">/// @dev Should cost less than 30000 gas
</span>    <span class="c1">/// @return Required number of votes for achieving consensus
</span>    <span class="k">function</span> <span class="n">quorumVotes</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint256</span><span class="p">);</span>

    <span class="c1">/// @notice The address of the Governance ERC20 token
</span>    <span class="k">function</span> <span class="n">token</span><span class="p">()</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">address</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="erc-20-governance-token"><code class="language-plaintext highlighter-rouge">ERC-20</code> Governance Token</h3>

<p>An <code class="language-plaintext highlighter-rouge">ERC-2767</code> Governance Contract should reference an address through <code class="language-plaintext highlighter-rouge">token()</code> that implements <code class="language-plaintext highlighter-rouge">ERC-20</code> interface. <code class="language-plaintext highlighter-rouge">token()</code> is allowed to return self address (<code class="language-plaintext highlighter-rouge">address(this)</code>), if <code class="language-plaintext highlighter-rouge">ERC-20</code> functionalities are implemented in the same contract (one can consider checking out Diamond Standard <a href="https://eips.ethereum.org/EIPS/eip-2535"><code class="language-plaintext highlighter-rouge">ERC-2535</code></a> to optimise contract size).</p>

<p>Implementations are allowed to have varying <code class="language-plaintext highlighter-rouge">ERC-20</code>’s <code class="language-plaintext highlighter-rouge">totalSupply()</code> (through any standard of minting or burning). But having a fixed <code class="language-plaintext highlighter-rouge">quorumVotes()</code> return value in this case would cause required votes consensus in <code class="language-plaintext highlighter-rouge">%</code> with respect to <code class="language-plaintext highlighter-rouge">totalSupply()</code> to change. To automatically account for this, any custom logic under <code class="language-plaintext highlighter-rouge">quorumVotes()</code> is allowed to return for e.g. <code class="language-plaintext highlighter-rouge">51%</code> of <code class="language-plaintext highlighter-rouge">totalSupply()</code>.</p>

<h3 id="erc-165-interface-identification"><code class="language-plaintext highlighter-rouge">ERC-165</code> Interface Identification</h3>

<p>An <code class="language-plaintext highlighter-rouge">ERC-2767</code> Governance Contract should also implement <code class="language-plaintext highlighter-rouge">ERC-165</code>. This helps general tools to identify whether a contract is a <code class="language-plaintext highlighter-rouge">ERC-2767</code> Governance contract.</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">ERC165</span> <span class="p">{</span>
    <span class="c1">/// @notice Query if a contract implements an interface
</span>    <span class="c1">/// @param interfaceID The interface identifier, as specified in ERC-165
</span>    <span class="c1">/// @dev Interface identification is specified in ERC-165. This function
</span>    <span class="c1">///  uses less than 30,000 gas.
</span>    <span class="c1">/// @return `true` if the contract implements `interfaceID` and
</span>    <span class="c1">///  `interfaceID` is not 0xffffffff, `false` otherwise
</span>    <span class="k">function</span> <span class="n">supportsInterface</span><span class="p">(</span><span class="kt">bytes4</span> <span class="n">interfaceID</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="rationale">Rationale</h2>

<p>The goals of this EIP have been the following:</p>

<ul>
  <li>Standardize API of Governance contracts to make it easy for analysis tools to be built.</li>
  <li>Encourage use of <code class="language-plaintext highlighter-rouge">ERC-20</code> based weighted governance over existing multi-sig (<em>generally limited to 50 max owners</em>) for big projects.</li>
  <li>Encourage existing <code class="language-plaintext highlighter-rouge">ERC-173</code> ownership smart contracts / projects to move to Governance based ownership by removing the effort needed to host custom UI for their project.</li>
  <li>Encourage availability of publicly audited governance contracts, just like <code class="language-plaintext highlighter-rouge">ERC-20</code> which anyone can use.</li>
  <li>Make it possible to utilize existing <code class="language-plaintext highlighter-rouge">ERC-20</code> tools for owners of governance token analysis.</li>
  <li>Make future protocols possible that need to interact with governances of multiple projects.</li>
  <li>Keep this EIP minimal and allow another EIPs to standardize any specific functionalities.</li>
</ul>

<h2 id="backwards-compatibility">Backwards Compatibility</h2>

<p>Smart contracts that are <code class="language-plaintext highlighter-rouge">ERC-173</code> compliant can transfer their ownership to a Governance contract. This enables such contracts to become compatible with <code class="language-plaintext highlighter-rouge">ERC-2767</code> Governance.</p>

<p>However, there are some existing projects with governance implementations and most of them have custom APIs (<a href="https://github.com/compound-finance/compound-protocol/blob/master/contracts/Governance/GovernorAlpha.sol#L27">Compound Governance</a>, <a href="https://github.com/Uniswap/governance/blob/master/contracts/GovernorAlpha.sol#L27">Uniswap Governance</a> and <a href="https://github.com/sushiswap/sushiswap/blob/master/contracts/GovernorAlpha.sol#L45">Sushiswap Governance</a>), since a standard did not exist. Not having an <code class="language-plaintext highlighter-rouge">ERC-2767</code> compatible governance contract means only that general tools might not be able to populate their governance information without including some special code for the project.</p>

<p>For existing governance contracts to get compatible with <code class="language-plaintext highlighter-rouge">ERC-2767</code>:</p>

<ol>
  <li>Projects can deploy a new governance contract and transfer ownership to it to be <code class="language-plaintext highlighter-rouge">ERC-2767</code> compatible. This is suitable for those who use Multi-sig wallets for Governance.</li>
  <li>It is understood that redeploying governance contracts would be a troublesome task, and contracts who already have functionality similar to <code class="language-plaintext highlighter-rouge">ERC-20</code> based (weighted votes) have a bit advanced way to avoid it. Basically, they can create a forwarder contract implements <code class="language-plaintext highlighter-rouge">ERC-2767</code> and forwards all calls to the actual non-standard methods. Projects can list the forwarder contract to display the information project’s governance info without requiring any custom code in analysys tool, but this might have certain limitations depending on the project’s existing governance implementation. Specification of forwarder contract is out of scope for this EIP and it may be addressed in another EIP if required.</li>
</ol>

<!-- ## Test Cases -->

<h2 id="implementation">Implementation</h2>

<p>The reference implementations are available in this <a href="https://github.com/zemse/contract-ownership-governance">repository</a>. Publicly audited implementations will be included in future.</p>

<h2 id="security-considerations">Security Considerations</h2>

<p>Implementers are free to choose between On-chain and Off-chain consensus. Exact specification is out of scope for this standard (open for other EIPs to standardize). However, this section mentions points that implementers can consider.</p>

<h4 id="on-chain">On-chain</h4>

<p>In such implementations, community can create transaction proposals and vote on it by sending on-chain transactions.</p>

<ul>
  <li>OpenZeppelin Snapshots can be used to prevent double voting.</li>
</ul>

<h4 id="off-chain">Off-chain</h4>

<ul>
  <li>The signatures in off-chain governance implementation can follow recommendations of <code class="language-plaintext highlighter-rouge">ERC-191</code> or <code class="language-plaintext highlighter-rouge">ERC-712</code>.</li>
  <li>To prevent replaying signatures, it’d be best if executer is required to sort the signatures based on increasing addresses.</li>
</ul>

<h2 id="copyright">Copyright</h2>

<p>Copyright and related rights waived via <a href="/LICENSE">CC0</a>.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ethereum Improvement Proposals</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ethereum Improvement Proposals</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ethereum/EIPs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ethereum/EIPs</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
