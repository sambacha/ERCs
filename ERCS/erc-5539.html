<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>Revocation List Registry | Ethereum Improvement Proposals</title>
    <meta
      property="og:title"
      content="Revocation List Registry | Ethereum Improvement Proposals"
    />
    <meta name="description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta property="og:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta name="twitter:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
  
  <meta name="generator" content="Jekyll" />
  <meta property="og:locale" content="en_US" />
  <link rel="canonical" href="http://localhost:4000/ERCS/erc-5539" />
  <meta property="og:url" content="http://localhost:4000/ERCS/erc-5539" />
  <meta property="og:site_name" content="Ethereum Improvement Proposals" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "http://localhost:4000",
      "name": "Ethereum Improvement Proposals",
      "description": "Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
  <link rel="stylesheet" href="/assets/css/style.css" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ethereum Improvement Proposals" /><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/override.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", (event) => {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    });
  </script>
  <script type="text/javascript">
    window.MathJax = {
      loader: {
        load: ['input/tex-base', 'output/chtml']
      },
      tex: {
        inlineMath: [['$', '$']],
        displayMath: [['$$', '$$']],
        processEscapes: true,
        processEnvironments: false,
        processRefs: false
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js" integrity="sha384-/1zmJ1mBdfKIOnwPxpdG6yaRrxP6qu3eVYm0cz2nOx+AcL4d3AqEFrwcqGZVVroG" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/citation-js/0.6.7/citation.min.js" integrity="sha512-N+LDFMa9owHXGS+CyMrBvuxq2QuGl3fiB/7cys3aUEL7K6P1soHGqsS0sjHXZpwNd9Kz0m3R4IPy1HYRi6ROEQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript">
    addEventListener('DOMContentLoaded', async () => {
      const Cite = window.require('citation-js');
      const citationElements = document.querySelectorAll('.language-csl-json');
      for (let citationElement of citationElements) {
        try {
          const citation = await Cite.async(citationElement);
          const template = document.createElement('template');
          template.innerHTML = citation.format('bibliography', {
            format: 'html',
            template: 'apa',
            lang: 'en-US'
          });
          if (citationElement.parentElement && citationElement.parentElement.matches('pre')) {
            citationElement.parentElement.replaceWith(template.content);
          } else {
            citationElement.replaceWith(template.content);
          }
        } catch (e) {
          console.error("unable to render citation", e);
        }
      }
    });
  </script>
</head>
<body><header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/">Ethereum Improvement Proposals</a><nav class="site-nav d-flex">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger row p-2"><a class="page-link col" href="/all">All</a><a class="page-link col" href="/core">Core</a><a class="page-link col" href="/networking">Networking</a><a class="page-link col" href="/interface">Interface</a><a class="page-link col" href="/erc">ERC</a><a class="page-link col" href="/meta">Meta</a><a class="page-link col" href="/informational">Informational</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Revocation List Registry</h1>
  </header>

  <div class="post-content">
    <h2 id="abstract">Abstract</h2>
<p>This EIP proposes a set of methods and standards for a role-based registry of indicators aimed for usage in revocations.</p>

<h2 id="motivation">Motivation</h2>
<p>Revocation is a universally needed construct both in the traditional centralized and decentralized credential attestation. This EIP aims to provide an interface to standardize a decentralized approach to managing and resolving revocation states in a contract registry.</p>

<p>The largest problem with traditional revocation lists is the centralized aspect of them. Most of the world’s CRLs rely on HTTP servers as well as caching and are therefore vulnerable to known attack vectors in the traditional web space. This aspect severely weakens the underlying strong asymmetric key architecture in current PKI systems.</p>

<p>In addition, issuers in existing CRL approaches are required to host an own instance of their public revocation list, as shared or centralized instances run the risk of misusage by the controlling entity. 
This incentivizes issuers to shift this responsibility to a third party, imposing the risk of even more centralization of the ecosystem (see Cloudflare, AWS). 
Ideally, issuers should be able to focus on their area of expertise, including ownership of their revocable material, instead of worrying about infrastructure.</p>

<p>We see value in a future of the Internet where anyone can be an issuer of verifiable information. This proposal lays the groundwork for anyone to also own the lifecycle of this information to build trust in ecosystems.</p>

<h2 id="specification">Specification</h2>
<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119.</p>

<p>This EIP specifies a contract called <code class="language-plaintext highlighter-rouge">EthereumRevocationRegistry</code> that is deployed once and may then be commonly used by everyone. By default, an Ethereum address <strong>MAY</strong> own and manage a multitude of revocation lists in a namespace that <strong>MUST</strong> contain the revocation states for a set of revocation keys.</p>

<p>An owner of a namespace <strong>MAY</strong> allow delegates to manage one or more of its revocation lists. Delegates <strong>MUST</strong> be removable by the respective list’s owner. In certain situations, an owner <strong>MAY</strong> also want to transfer a revocation list in a namespace and its management rights to a new owner.</p>

<h3 id="definitions">Definitions</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">namespace</code>: A namespace is a representation of an Ethereum address inside the registry that corresponds to its owners address. All revocation lists within a namespace are initially owned by the namespace’s owner address.</li>
  <li><code class="language-plaintext highlighter-rouge">revocation list</code>: A namespace can contain a number of revocation lists. Each revocation list is identified by a unique key of the type bytes32 that can be used to address it in combination with the namespace address.</li>
  <li><code class="language-plaintext highlighter-rouge">revocation key</code>: A revocation list can contain a number of revocation keys of the type bytes32. In combination with the namespace address and the revocation list key, it resolves to a boolean value that indicates whether the revocation key is revoked or not.</li>
  <li><code class="language-plaintext highlighter-rouge">owner</code>: An Ethereum address that has modifying rights to revocation lists within its own and possibly foreign namespaces. An owner can give up modifying rights of revocation lists within its namespace by transferring ownership to another address.</li>
  <li><code class="language-plaintext highlighter-rouge">delegate</code>: An Ethereum address that received temporary access to a revocation list in a namespace. It has to be granted by the current owner of the revocation list in question.</li>
</ul>

<h3 id="revocation-management">Revocation Management</h3>

<h4 id="isrevoked">isRevoked</h4>
<p><strong>MUST</strong> implement a function that returns the revocation status of a particular revocation key in a namespace’s revocation list. It <strong>MAY</strong> also respect the revocation lists revocation status.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">isRevoked</span><span class="p">(</span><span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">list</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">key</span><span class="p">)</span> <span class="k">public</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="changestatus">changeStatus</h4>
<p><strong>MUST</strong> implement a function to change the revocation status of a particular revocation key in a namespace’s revocation list</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeStatus</span><span class="p">(</span><span class="kt">bool</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationKey</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="changestatussigned-see-meta-transactions">changeStatusSigned (<a href="#MetaTransactions">see Meta Transactions</a>)</h4>
<p><strong>OPTIONAL</strong> implements a function to change the revocation status of a particular revocation key in a namespace’s revocation list with a raw signature.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeStatusSigned</span><span class="p">(</span><span class="kt">bool</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationKey</span><span class="p">,</span> <span class="kt">address</span> <span class="n">signer</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="changestatusdelegated">changeStatusDelegated</h4>
<p><strong>OPTIONAL</strong> implements a function to change the revocation status of a particular revocation key in a namespace’s revocation list by a revocation list’s delegate.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeStatusDelegated</span><span class="p">(</span><span class="kt">bool</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationKey</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="changestatusdelegatedsigned-see-meta-transactions">changeStatusDelegatedSigned (<a href="#MetaTransactions">see Meta Transactions</a>)</h4>
<p><strong>OPTIONAL</strong> implements a function to change the revocation status of a particular revocation key in a namespace’s revocation list with a raw signature.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeStatusDelegatedSigned</span><span class="p">(</span><span class="kt">bool</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationKey</span><span class="p">,</span> <span class="kt">address</span> <span class="n">signer</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="changestatusesinlist">changeStatusesInList</h4>
<p><strong>OPTIONAL</strong> implements a function to change multiple revocation statuses in a namespace’s revocation list at once.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeStatusesInList</span><span class="p">(</span><span class="kt">bool</span><span class="p">[]</span> <span class="k">memory</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">bytes32</span><span class="p">[]</span> <span class="k">memory</span> <span class="n">revocationKeys</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="changestatusesinlistsigned-see-meta-transactions">changeStatusesInListSigned (<a href="#MetaTransactions">see Meta Transactions</a>)</h4>
<p><strong>OPTIONAL</strong> implements a function to change multiple revocation statuses in a namespace’s revocation list at once with a raw signature.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeStatusesInListSigned</span><span class="p">(</span><span class="kt">bool</span><span class="p">[]</span> <span class="k">memory</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">bytes32</span><span class="p">[]</span> <span class="k">memory</span> <span class="n">revocationKeys</span><span class="p">,</span> <span class="kt">address</span> <span class="n">signer</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="changestatusesinlistdelegated">changeStatusesInListDelegated</h4>
<p><strong>OPTIONAL</strong> implements a function to change multiple revocation statuses in a namespace’s revocation list at once by a revocation list’s delegate.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeStatusesInListDelegated</span><span class="p">(</span><span class="kt">bool</span><span class="p">[]</span> <span class="k">memory</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">bytes32</span><span class="p">[]</span> <span class="k">memory</span> <span class="n">revocationKeys</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="changestatusesinlistdelegatedsigned-see-meta-transactions">changeStatusesInListDelegatedSigned (<a href="#MetaTransactions">see Meta Transactions</a>)</h4>
<p><strong>OPTIONAL</strong> implements a function to change multiple revocation statuses in a namespace’s revocation list at once with a raw signature generated by a revocation list’s delegate.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeStatusesInListDelegatedSigned</span><span class="p">(</span><span class="kt">bool</span><span class="p">[]</span> <span class="k">memory</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">bytes32</span><span class="p">[]</span> <span class="k">memory</span> <span class="n">revocationKeys</span><span class="p">,</span> <span class="kt">address</span> <span class="n">signer</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="revocation-list-management">Revocation List Management</h3>

<p>####
<strong>OPTIONAL</strong> implements a function that returns the revocation status of a particular revocation list in a namespace.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">listIsRevoked</span><span class="p">(</span><span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">)</span> <span class="k">view</span> <span class="k">public</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="changeliststatus">changeListStatus</h4>
<p><strong>OPTIONAL</strong> implements a function to change the revocation of a revocation list itself. If a revocation list is revoked, all its keys are considered revoked as well.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeListStatus</span><span class="p">(</span><span class="kt">bool</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="changeliststatussigned-see-meta-transactions">changeListStatusSigned (<a href="#MetaTransactions">see Meta Transactions</a>)</h4>
<p><strong>OPTIONAL</strong> implements a function to change the revocation of a revocation list itself with a raw signature. If a revocation list is revoked, all its keys are considered revoked as well.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeListStatusSigned</span><span class="p">(</span><span class="kt">bool</span> <span class="n">revoked</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">address</span> <span class="n">signer</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="owner-management">Owner management</h3>

<h4 id="changelistowner">changeListOwner</h4>
<p><strong>OPTIONAL</strong> implement a function to change the revocation status of a revocation list. If a revocation list is revoked, all keys in it are considered revoked.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeListOwner</span><span class="p">(</span><span class="kt">address</span> <span class="n">newOwner</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="changelistownersigned-see-meta-transactions">changeListOwnerSigned (<a href="#MetaTransactions">see Meta Transactions</a>)</h4>
<p><strong>OPTIONAL</strong> implement a function to change the revocation status of a revocation list with a raw signature. If a revocation list is revoked, all keys in it are considered revoked.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">changeListOwnerSigned</span><span class="p">(</span><span class="kt">address</span> <span class="n">newOwner</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">address</span> <span class="n">signer</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="delegation-management">Delegation management</h3>

<h4 id="addlistdelegate">addListDelegate</h4>
<p><strong>OPTIONAL</strong> implements a function to add a delegate to an owner’s revocation list in a namespace.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">addListDelegate</span><span class="p">(</span><span class="kt">address</span> <span class="n">delegate</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="addlistdelegatesigned-see-meta-transactions">addListDelegateSigned (<a href="#MetaTransactions">see Meta Transactions</a>)</h4>
<p><strong>OPTIONAL</strong> implements a function to add a delegate to an owner’s revocation list in a namespace with a raw signature.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">addListDelegateSigned</span><span class="p">(</span><span class="kt">address</span> <span class="n">delegate</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">address</span> <span class="n">signer</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="removelistdelegate">removeListDelegate</h4>
<p><strong>OPTIONAL</strong> implements a function to remove a delegate from an owner’s revocation list in a namespace.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">removeListDelegate</span><span class="p">(</span><span class="kt">address</span> <span class="n">delegate</span><span class="p">,</span> <span class="kt">address</span> <span class="n">owner</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="removelistdelegatesigned-see-meta-transactions">removeListDelegateSigned (<a href="#MetaTransactions">see Meta Transactions</a>)</h4>
<p><strong>OPTIONAL</strong> implements a function to remove a delegate from an owner’s revocation list in a namespace with a raw signature.</p>
<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">removeListDelegateSigned</span><span class="p">(</span><span class="kt">address</span> <span class="n">delegate</span><span class="p">,</span> <span class="kt">address</span> <span class="n">namespace</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revocationList</span><span class="p">,</span> <span class="kt">address</span> <span class="n">signer</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span><span class="p">)</span> <span class="k">public</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="events">Events</h3>

<h4 id="revocationstatuschanged">RevocationStatusChanged</h4>
<p><strong>MUST</strong> be emitted when <code class="language-plaintext highlighter-rouge">changeStatus</code>, <code class="language-plaintext highlighter-rouge">changeStatusSigned</code>, <code class="language-plaintext highlighter-rouge">changeStatusDelegated</code>, <code class="language-plaintext highlighter-rouge">changeStatusDelegatedSigned</code>, <code class="language-plaintext highlighter-rouge">changeStatusesInList</code>, <code class="language-plaintext highlighter-rouge">changeStatusesInListSigned</code>, <code class="language-plaintext highlighter-rouge">changeStatusesInListDelegated</code>, or <code class="language-plaintext highlighter-rouge">changeStatusesInListDelegatedSigned</code> was successfully executed.</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">RevocationStatusChanged</span><span class="p">(</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">namespace</span><span class="p">,</span>
    <span class="kt">bytes32</span> <span class="k">indexed</span> <span class="n">revocationList</span><span class="p">,</span>
    <span class="kt">bytes32</span> <span class="k">indexed</span> <span class="n">revocationKey</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">revoked</span>
<span class="p">);</span>
</code></pre></div></div>

<h4 id="revocationlistownerchanged">RevocationListOwnerChanged</h4>
<p><strong>MUST</strong> be emitted when <code class="language-plaintext highlighter-rouge">changeListOwner</code> or <code class="language-plaintext highlighter-rouge">changeListOwnerSigned</code> was successfully executed.</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">RevocationListOwnerChanged</span><span class="p">(</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">namespace</span><span class="p">,</span>
    <span class="kt">bytes32</span> <span class="k">indexed</span> <span class="n">revocationList</span><span class="p">,</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">newOwner</span>
<span class="p">);</span>
</code></pre></div></div>

<h4 id="revocationlistdelegateadded">RevocationListDelegateAdded</h4>
<p><strong>MUST</strong> be emitted when <code class="language-plaintext highlighter-rouge">addListDelegate</code> or <code class="language-plaintext highlighter-rouge">addListDelegateSigned</code> was successfully executed.</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">RevocationListDelegateAdded</span><span class="p">(</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">namespace</span><span class="p">,</span>
    <span class="kt">bytes32</span> <span class="k">indexed</span> <span class="n">revocationList</span><span class="p">,</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">delegate</span>
<span class="p">);</span>
</code></pre></div></div>

<h4 id="revocationlistdelegateremoved">RevocationListDelegateRemoved</h4>
<p><strong>MUST</strong> be emitted when <code class="language-plaintext highlighter-rouge">removeListDelegate</code> or <code class="language-plaintext highlighter-rouge">removeListDelegateSigned</code> was successfully executed.</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">RevocationListDelegateRemoved</span><span class="p">(</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">namespace</span><span class="p">,</span>
    <span class="kt">bytes32</span> <span class="k">indexed</span> <span class="n">revocationList</span><span class="p">,</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">delegate</span>
<span class="p">);</span>
</code></pre></div></div>

<h4 id="revocationliststatuschanged">RevocationListStatusChanged</h4>
<p><strong>MUST</strong> be emitted when <code class="language-plaintext highlighter-rouge">changeListStatus</code> or <code class="language-plaintext highlighter-rouge">changeListStatusSigned</code> was successfully executed.</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">event</span> <span class="n">RevocationListStatusChanged</span><span class="p">(</span>
    <span class="kt">address</span> <span class="k">indexed</span> <span class="n">namespace</span><span class="p">,</span>
    <span class="kt">bytes32</span> <span class="k">indexed</span> <span class="n">revocationlist</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">revoked</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="meta-transactions-">Meta Transactions <span id="MetaTransactions"></span></h3>

<p>This section uses the following terms:</p>
<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">transaction signer</code></strong>: An Ethereum address that signs arbitrary data for the contract to execute <strong>BUT</strong> does not commit the transaction.</li>
  <li><strong><code class="language-plaintext highlighter-rouge">transaction sender</code></strong>: An Ethereum address that takes signed data from a <strong>transaction signer</strong> and commits it wrapped with its own signature to the smart contract.</li>
</ul>

<p>An address (<strong>transaction signer</strong>) <strong>MAY</strong> be able to deliver a signed payload off-band to another address (<strong>transaction sender</strong>) that initiates the Ethereum interaction with the smart contract. The signed payload <strong>MUST</strong> be limited to be used only once (<a href="#SignedHash">Signed Hash</a> + <a href="#Nonce">nonces</a>).</p>

<h4 id="signed-hash-">Signed Hash <span id="SignedHash"></span></h4>

<p>The signature of the <strong>transaction signer</strong> <strong>MUST</strong> conform <a href="./eip-712.md">EIP-712</a>. This helps users understand what the payload they’re signing consists of &amp; it improves the protection against replay attacks.</p>

<h4 id="nonce-">Nonce <span id="Nonce"></span></h4>

<p>This EIP <strong>RECOMMENDS</strong> the use of a <strong>dedicated nonce mapping</strong> for meta transactions. If the signature of the <strong>transaction sender</strong> and its meta contents are verified, the contract increases a nonce for this <strong>transaction signer</strong>. This effectively removes the possibility for any other sender to execute the same transaction again with another wallet.</p>

<h2 id="rationale">Rationale</h2>

<h3 id="why-the-concept-of-namespaces">Why the concept of namespaces?</h3>
<p>This provides every Ethereum address a reserved space, without the need to actively claim it in the contract. Initially addresses only have owner access in their own namespace.</p>

<h3 id="why-does-a-namespace-always-represent-the-initial-owner-address">Why does a namespace always represent the initial owner address?</h3>
<p>The change of an owner of a list shouldn’t break the link to a revocation key in it, as already existing off-chain data may depend on it.</p>

<h2 id="backwards-compatibility">Backwards Compatibility</h2>
<p>No backward compatibility issues were found.</p>

<h2 id="security-considerations">Security Considerations</h2>

<h3 id="meta-transactions">Meta Transactions</h3>
<p>The signature of signed transactions could potentially be replayed on different chains or deployed versions of the registry implementing this ERC. This security consideration is addressed by the usage of <a href="./eip-712.md">EIP-712</a></p>

<h3 id="rights-management">Rights Management</h3>
<p>The different roles and their inherent permissions are meant to prevent changes from unauthorized entities. The revocation list owner should always be in complete control over its revocation list and who has writing access to it.</p>

<h2 id="copyright">Copyright</h2>
<p>Copyright and related rights waived via <a href="/LICENSE">CC0</a>.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ethereum Improvement Proposals</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ethereum Improvement Proposals</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ethereum/EIPs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ethereum/EIPs</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
