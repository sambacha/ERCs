<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>Role-based Access Control | Ethereum Improvement Proposals</title>
    <meta
      property="og:title"
      content="Role-based Access Control | Ethereum Improvement Proposals"
    />
    <meta name="description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta property="og:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta name="twitter:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
  
  <meta name="generator" content="Jekyll" />
  <meta property="og:locale" content="en_US" />
  <link rel="canonical" href="http://localhost:4000/ERCS/erc-5982" />
  <meta property="og:url" content="http://localhost:4000/ERCS/erc-5982" />
  <meta property="og:site_name" content="Ethereum Improvement Proposals" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "http://localhost:4000",
      "name": "Ethereum Improvement Proposals",
      "description": "Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
  <link rel="stylesheet" href="/assets/css/style.css" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ethereum Improvement Proposals" /><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/override.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", (event) => {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    });
  </script>
  <script type="text/javascript">
    window.MathJax = {
      loader: {
        load: ['input/tex-base', 'output/chtml']
      },
      tex: {
        inlineMath: [['$', '$']],
        displayMath: [['$$', '$$']],
        processEscapes: true,
        processEnvironments: false,
        processRefs: false
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js" integrity="sha384-/1zmJ1mBdfKIOnwPxpdG6yaRrxP6qu3eVYm0cz2nOx+AcL4d3AqEFrwcqGZVVroG" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/citation-js/0.6.7/citation.min.js" integrity="sha512-N+LDFMa9owHXGS+CyMrBvuxq2QuGl3fiB/7cys3aUEL7K6P1soHGqsS0sjHXZpwNd9Kz0m3R4IPy1HYRi6ROEQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript">
    addEventListener('DOMContentLoaded', async () => {
      const Cite = window.require('citation-js');
      const citationElements = document.querySelectorAll('.language-csl-json');
      for (let citationElement of citationElements) {
        try {
          const citation = await Cite.async(citationElement);
          const template = document.createElement('template');
          template.innerHTML = citation.format('bibliography', {
            format: 'html',
            template: 'apa',
            lang: 'en-US'
          });
          if (citationElement.parentElement && citationElement.parentElement.matches('pre')) {
            citationElement.parentElement.replaceWith(template.content);
          } else {
            citationElement.replaceWith(template.content);
          }
        } catch (e) {
          console.error("unable to render citation", e);
        }
      }
    });
  </script>
</head>
<body><header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/">Ethereum Improvement Proposals</a><nav class="site-nav d-flex">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger row p-2"><a class="page-link col" href="/all">All</a><a class="page-link col" href="/core">Core</a><a class="page-link col" href="/networking">Networking</a><a class="page-link col" href="/interface">Interface</a><a class="page-link col" href="/erc">ERC</a><a class="page-link col" href="/meta">Meta</a><a class="page-link col" href="/informational">Informational</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Role-based Access Control</h1>
  </header>

  <div class="post-content">
    <h2 id="abstract">Abstract</h2>

<p>This EIP defines an interface for role-based access control for smart contracts. Roles are defined as <code class="language-plaintext highlighter-rouge">byte32</code>. The interface specifies how to read, grant, create and destroy roles. It specifies the sense of role power in the format of its ability to call a given method
identified by <code class="language-plaintext highlighter-rouge">bytes4</code> method selector. It also specifies how metadata of roles are represented.</p>

<h2 id="motivation">Motivation</h2>

<p>There are many ways to establish access control for privileged actions. One common pattern is “role-based” access control, where one or more users are assigned to one or more “roles,” which grant access to privileged actions. This pattern is more secure and flexible than ownership-based access control since it allows for many people to be granted permissions according to the principle of least privilege.</p>

<h2 id="specification">Specification</h2>

<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “NOT RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119 and RFC 8174.</p>

<p>Interfaces of reference is described as followed:</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">IERC_ACL_CORE</span> <span class="p">{</span>
    <span class="k">function</span> <span class="n">hasRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">address</span> <span class="n">account</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">grantRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">address</span> <span class="n">account</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>
    <span class="k">function</span> <span class="n">revokeRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">address</span> <span class="n">account</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">IERC_ACL_GENERAL</span> <span class="p">{</span>
    <span class="k">event</span> <span class="n">RoleGranted</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">grantor</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="k">indexed</span> <span class="n">role</span><span class="p">,</span> <span class="kt">address</span> <span class="k">indexed</span> <span class="n">grantee</span><span class="p">,</span> <span class="kt">bytes</span> <span class="n">_data</span><span class="p">);</span>
    <span class="k">event</span> <span class="n">RoleRevoked</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">revoker</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="k">indexed</span> <span class="n">role</span><span class="p">,</span> <span class="kt">address</span> <span class="k">indexed</span> <span class="n">revokee</span><span class="p">,</span> <span class="kt">bytes</span> <span class="n">_data</span><span class="p">);</span>

    <span class="k">event</span> <span class="n">RoleCreated</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">roleGrantor</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">adminOfRole</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">string</span> <span class="n">desc</span><span class="p">,</span> <span class="kt">string</span> <span class="n">uri</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">);</span>
    <span class="k">event</span> <span class="n">RoleDestroyed</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">roleDestroyer</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">);</span>
    <span class="k">event</span> <span class="n">RolePowerSet</span><span class="p">(</span><span class="kt">address</span> <span class="k">indexed</span> <span class="n">rolePowerSetter</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">bytes4</span> <span class="n">methods</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">);</span>

    <span class="k">function</span> <span class="n">grantRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">address</span> <span class="n">account</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>
    <span class="k">function</span> <span class="n">revokeRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">address</span> <span class="n">account</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>

    <span class="k">function</span> <span class="n">createRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">adminOfRole</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">string</span> <span class="n">desc</span><span class="p">,</span> <span class="kt">string</span> <span class="n">uri</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>
    <span class="k">function</span> <span class="n">destroyRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>
    <span class="k">function</span> <span class="n">setRolePower</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">bytes4</span> <span class="n">methods</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">)</span> <span class="k">view</span> <span class="k">external</span> <span class="k">returns</span><span class="p">(</span><span class="kt">bool</span><span class="p">);</span>

    <span class="k">function</span> <span class="n">hasRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">role</span><span class="p">,</span> <span class="kt">address</span> <span class="n">account</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">canGrantRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">grantor</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">grantee</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">)</span> <span class="k">view</span> <span class="k">external</span> <span class="k">returns</span><span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">canRevokeRole</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">revoker</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">revokee</span><span class="p">,</span> <span class="kt">address</span> <span class="n">account</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">)</span> <span class="k">view</span> <span class="k">external</span> <span class="k">returns</span><span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">canExecute</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">executor</span><span class="p">,</span> <span class="kt">bytes4</span> <span class="n">methods</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="k">calldata</span> <span class="n">payload</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">_data</span><span class="p">)</span> <span class="k">view</span> <span class="k">external</span> <span class="k">returns</span><span class="p">(</span><span class="kt">bool</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">IERC_ACL_METADATA</span> <span class="p">{</span>
    <span class="k">function</span> <span class="n">roleName</span><span class="p">(</span><span class="kt">bytes32</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span><span class="p">(</span><span class="kt">string</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">roleDescription</span><span class="p">(</span><span class="kt">bytes32</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span><span class="p">(</span><span class="kt">string</span><span class="p">);</span>
    <span class="k">function</span> <span class="n">roleURI</span><span class="p">(</span><span class="kt">bytes32</span><span class="p">)</span> <span class="k">external</span> <span class="k">view</span> <span class="k">returns</span><span class="p">(</span><span class="kt">string</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>Compliant contracts MUST implement <code class="language-plaintext highlighter-rouge">IERC_ACL_CORE</code></li>
  <li>It is RECOMMENDED for compliant contracts to implement the optional extension <code class="language-plaintext highlighter-rouge">IERC_ACL_GENERAL</code>.</li>
  <li>Compliant contracts MAY implement the optional extension <code class="language-plaintext highlighter-rouge">IERC_ACL_METADATA</code>.</li>
  <li>A role in a compliant smart contract is represented in the format of <code class="language-plaintext highlighter-rouge">bytes32</code>. It’s RECOMMENDED the value of such role is computed as a
<code class="language-plaintext highlighter-rouge">keccak256</code> hash of a string of the role name, in this format: <code class="language-plaintext highlighter-rouge">bytes32 role = keccak256("&lt;role_name&gt;")</code>. such as <code class="language-plaintext highlighter-rouge">bytes32 role = keccak256("MINTER")</code>.</li>
  <li>Compliant contracts SHOULD implement <a href="./eip-165.md">ERC-165</a> identifier.</li>
</ol>

<h2 id="rationale">Rationale</h2>

<ol>
  <li>The names and parameters of methods in <code class="language-plaintext highlighter-rouge">IERC_ACL_CORE</code> are chosen to allow backward compatibility with OpenZeppelin’s implementation.</li>
  <li>The methods in <code class="language-plaintext highlighter-rouge">IERC_ACL_GENERAL</code> conform to <a href="./eip-5750.md">ERC-5750</a> to allow extension.</li>
  <li>The method of <code class="language-plaintext highlighter-rouge">renounceRole</code> was not adopted, consolidating with <code class="language-plaintext highlighter-rouge">revokeRole</code> to simplify interface.</li>
</ol>

<h2 id="backwards-compatibility">Backwards Compatibility</h2>

<p>Needs discussion.</p>

<h2 id="security-considerations">Security Considerations</h2>

<p>Needs discussion.</p>

<h2 id="copyright">Copyright</h2>

<p>Copyright and related rights waived via <a href="/LICENSE">CC0</a>.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ethereum Improvement Proposals</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ethereum Improvement Proposals</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ethereum/EIPs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ethereum/EIPs</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
