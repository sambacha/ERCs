<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <title>Portable Smart Contract Accounts | Ethereum Improvement Proposals</title>
    <meta
      property="og:title"
      content="Portable Smart Contract Accounts | Ethereum Improvement Proposals"
    />
    <meta name="description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta property="og:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
    <meta name="twitter:description" content="Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards." />
  
  <meta name="generator" content="Jekyll" />
  <meta property="og:locale" content="en_US" />
  <link rel="canonical" href="http://localhost:4000/ERCS/erc-7405" />
  <meta property="og:url" content="http://localhost:4000/ERCS/erc-7405" />
  <meta property="og:site_name" content="Ethereum Improvement Proposals" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "http://localhost:4000",
      "name": "Ethereum Improvement Proposals",
      "description": "Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
  <link rel="stylesheet" href="/assets/css/style.css" /><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ethereum Improvement Proposals" /><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/override.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", (event) => {
      const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
      const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
    });
  </script>
  <script type="text/javascript">
    window.MathJax = {
      loader: {
        load: ['input/tex-base', 'output/chtml']
      },
      tex: {
        inlineMath: [['$', '$']],
        displayMath: [['$$', '$$']],
        processEscapes: true,
        processEnvironments: false,
        processRefs: false
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js" integrity="sha384-/1zmJ1mBdfKIOnwPxpdG6yaRrxP6qu3eVYm0cz2nOx+AcL4d3AqEFrwcqGZVVroG" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/citation-js/0.6.7/citation.min.js" integrity="sha512-N+LDFMa9owHXGS+CyMrBvuxq2QuGl3fiB/7cys3aUEL7K6P1soHGqsS0sjHXZpwNd9Kz0m3R4IPy1HYRi6ROEQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript">
    addEventListener('DOMContentLoaded', async () => {
      const Cite = window.require('citation-js');
      const citationElements = document.querySelectorAll('.language-csl-json');
      for (let citationElement of citationElements) {
        try {
          const citation = await Cite.async(citationElement);
          const template = document.createElement('template');
          template.innerHTML = citation.format('bibliography', {
            format: 'html',
            template: 'apa',
            lang: 'en-US'
          });
          if (citationElement.parentElement && citationElement.parentElement.matches('pre')) {
            citationElement.parentElement.replaceWith(template.content);
          } else {
            citationElement.replaceWith(template.content);
          }
        } catch (e) {
          console.error("unable to render citation", e);
        }
      }
    });
  </script>
</head>
<body><header class="site-header" role="banner">
  <div class="wrapper"><a class="site-title" rel="author" href="/">Ethereum Improvement Proposals</a><nav class="site-nav d-flex">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger row p-2"><a class="page-link col" href="/all">All</a><a class="page-link col" href="/core">Core</a><a class="page-link col" href="/networking">Networking</a><a class="page-link col" href="/interface">Interface</a><a class="page-link col" href="/erc">ERC</a><a class="page-link col" href="/meta">Meta</a><a class="page-link col" href="/informational">Informational</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Portable Smart Contract Accounts</h1>
  </header>

  <div class="post-content">
    <h2 id="abstract">Abstract</h2>

<p>Portable Smart Contract Accounts (PSCA) address the lack of portability and compatibility faced by Smart Contract Accounts (SCA) across different wallet providers. Based on <a href="./eip-1967.md">ERC-1967</a>, the PSCA system allows users to easily migrate their SCAs between different wallets using new, randomly generated migration keys. This provides a similar experience to exporting an externally owned account (EOA) with a private key or mnemonic. The system ensures security by employing signatures and time locks, allowing users to verify and cancel migration operations during the lock period, thereby preventing potential malicious actions. PSCA offers a non-intrusive and cost-effective approach, enhancing the interoperability and composability within the Account Abstraction (AA) ecosystem.</p>

<h2 id="motivation">Motivation</h2>

<p>With the introduction of the <a href="./eip-4337.md">ERC-4337</a> standard, AA related infrastructure and SCAs have been widely adopted in the community. However, unlike EOAs, SCAs have a more diverse code space, leading to varying contract implementations across different wallet providers. Consequently, the lack of portability for SCAs has become a significant issue, making it challenging for users to migrate their accounts between different wallet providers. While some proposed a modular approach for SCA accounts, it comes with higher implementation costs and specific prerequisites for wallet implementations.</p>

<p>Considering that different wallet providers tend to prefer their own implementations or may expect their contract systems to be concise and robust, a modular system may not be universally applicable. The community currently lacks a more general SCA migration standard.</p>

<p>This proposal describes a solution working at the Proxy (ERC-1967) layer, providing a user experience similar to exporting an EOA account (using private keys or mnemonics). A universal SCA migration mechanism is shown in the following diagram:</p>

<p><img src="../assets/eip-7405/overview-diagram.jpg" alt="Overview Diagram" /></p>

<p>Considering that different wallet providers may have their own implementations, this solution imposes almost no requirements on the SCA implementation, making it more universally applicable and less intrusive with lower operational costs. Unlike a modular system operating at the “implementation” layer, both approaches can complement each other to further improve the interoperability and composability of the AA ecosystem.</p>

<h2 id="specification">Specification</h2>

<p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119.</p>

<h3 id="terms">Terms</h3>

<ul>
  <li>Wallet Provider: A service provider that offers wallet services. SCA implementations among wallet providers are typically different, lacking compatibility with each other.</li>
  <li>Random Operator: A new, randomly generated migration mnemonic or private key used for each migration. The corresponding address of its public key is the random operator’s address.
    <ul>
      <li>If using a mnemonic, the derived migration private key follows the <a href="https://github.com/bitcoin/bips/blob/55566a73f9ddf77b4512aca8e628650c913067bf/bip-0044.mediawiki">BIP 44</a> specification with the path <strong><code class="language-plaintext highlighter-rouge">m/44'/60'/0'/0/0'</code></strong>.</li>
    </ul>
  </li>
</ul>

<h3 id="interfaces">Interfaces</h3>

<p>A Portable Smart Contract Account <strong>MUST</strong> implement the <strong><code class="language-plaintext highlighter-rouge">IERC7405</code></strong> interface:</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">IERC7405</span> <span class="p">{</span>
    <span class="cm">/**
     * @dev emitted when the account finishes the migration
     * @param oldImplementation old implementation address
     * @param newImplementation new implementation address
     */</span>
    <span class="k">event</span> <span class="n">AccountMigrated</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">oldImplementation</span><span class="p">,</span>
        <span class="kt">address</span> <span class="n">newImplementation</span>
    <span class="p">);</span>
    
    <span class="cm">/**
     * @dev prepare the account for migration
     * @param randomOperator public key (in address format) of the random operator
     * @param signature signature signed by the random operator
     *
     * **MUST** check the authenticity of the account
     */</span>
    <span class="k">function</span> <span class="n">prepareAccountMigration</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">randomOperator</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span>
    <span class="p">)</span> <span class="k">external</span><span class="p">;</span>

    <span class="cm">/**
     * @dev cancel the account migration
     *
     * **MUST** check the authenticity of the account
     */</span>
    <span class="k">function</span> <span class="n">cancelAccountMigration</span><span class="p">()</span> <span class="k">external</span><span class="p">;</span>

    <span class="cm">/**
     * @dev handle the account migration
     * @param newImplementation new implementation address
     * @param initData init data for the new implementation
     * @param signature signature signed by the random operator
     *
     * **MUST NOT** check the authenticity to make it accessible by the new implementation
     */</span>
    <span class="k">function</span> <span class="n">handleAccountMigration</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">newImplementation</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">initData</span><span class="p">,</span>
        <span class="kt">bytes</span> <span class="k">calldata</span> <span class="n">signature</span>
    <span class="p">)</span> <span class="k">external</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="signatures">Signatures</h3>

<p>The execution of migration operations <strong>MUST</strong> use the migration private key to sign the <code class="language-plaintext highlighter-rouge">MigrationOp</code>.</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">MigrationOp</span> <span class="p">{</span>
    <span class="kt">uint256</span> <span class="n">chainID</span><span class="p">;</span>
    <span class="kt">bytes4</span> <span class="nb">selector</span><span class="p">;</span>
    <span class="kt">bytes</span> <span class="n">data</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When the <strong><code class="language-plaintext highlighter-rouge">selector</code></strong> corresponds to <strong><code class="language-plaintext highlighter-rouge">prepareAccountMigration(address,bytes)</code></strong> (i.e., <strong><code class="language-plaintext highlighter-rouge">0x50fe70bd</code></strong>), the <strong><code class="language-plaintext highlighter-rouge">data</code></strong> is <strong><code class="language-plaintext highlighter-rouge">abi.encode(randomOperator)</code></strong>. When the <strong><code class="language-plaintext highlighter-rouge">selector</code></strong> corresponds to <strong><code class="language-plaintext highlighter-rouge">handleAccountMigration(address,bytes,bytes)</code></strong> (i.e., <strong><code class="language-plaintext highlighter-rouge">0xae2828ba</code></strong>), the <strong><code class="language-plaintext highlighter-rouge">data</code></strong> is <strong><code class="language-plaintext highlighter-rouge">abi.encode(randomOperator, setupCalldata)</code></strong>.</p>

<p>The signature is created using <strong><a href="./eip-191.md">ERC-191</a></strong>, signing the <strong><code class="language-plaintext highlighter-rouge">MigrateOpHash</code></strong> (calculated as <strong><code class="language-plaintext highlighter-rouge">abi.encode(chainID, selector, data)</code></strong>).</p>

<h3 id="registry">Registry</h3>

<p>To simplify migration credentials and enable direct addressing of the SCA account with only the migration mnemonic or private key, this proposal requires a shared registry deployed at the protocol layer.</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">interface</span> <span class="n">IERC7405Registry</span> <span class="p">{</span>
    <span class="k">struct</span> <span class="n">MigrationData</span> <span class="p">{</span>
        <span class="kt">address</span> <span class="n">account</span><span class="p">;</span>
        <span class="kt">uint48</span> <span class="n">createTime</span><span class="p">;</span>
        <span class="kt">uint48</span> <span class="n">lockUntil</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="cm">/**
     * @dev check if the migration data for the random operator exists
     * @param randomOperator public key (in address format) of the random operator
     */</span>
    <span class="k">function</span> <span class="n">migrationDataExists</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">randomOperator</span>
    <span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">);</span>

    <span class="cm">/**
     * @dev get the migration data for the random operator
     * @param randomOperator public key (in address format) of the random operator
     */</span>
    <span class="k">function</span> <span class="n">getMigrationData</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">randomOperator</span>
    <span class="p">)</span> <span class="k">external</span> <span class="k">returns</span> <span class="p">(</span><span class="n">MigrationData</span> <span class="k">memory</span><span class="p">);</span>

    <span class="cm">/**
     * @dev set the migration data for the random operator
     * @param randomOperator public key (in address format) of the random operator
     * @param lockUntil the timestamp until which the account is locked for migration
     *
     * **MUST** validate `migrationDataMap[randomOperator]` is empty
     */</span>
    <span class="k">function</span> <span class="n">setMigrationData</span><span class="p">(</span>
        <span class="kt">address</span> <span class="n">randomOperator</span><span class="p">,</span>
        <span class="kt">uint48</span> <span class="n">lockUntil</span>
    <span class="p">)</span> <span class="k">external</span><span class="p">;</span>

    <span class="cm">/**
     * @dev delete the migration data for the random operator
     * @param randomOperator public key (in address format) of the random operator
     *
     * **MUST** validate `migrationDataMap[randomOperator].account` is `msg.sender`
     */</span>
    <span class="k">function</span> <span class="n">deleteMigrationData</span><span class="p">(</span><span class="kt">address</span> <span class="n">randomOperator</span><span class="p">)</span> <span class="k">external</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="expected-behavior">Expected behavior</h3>

<p>When performing account migration (i.e., migrating an SCA from Wallet A to Wallet B), the following steps <strong>MUST</strong> be followed:</p>

<ol>
  <li>Wallet A generates a new migration mnemonic or private key (<strong>MUST</strong> be new and random) and provides it to the user. The address corresponding to its public key is used as the <strong><code class="language-plaintext highlighter-rouge">randomOperator</code></strong>.</li>
  <li>Wallet A signs the <strong><code class="language-plaintext highlighter-rouge">MigrateOpHash</code></strong> using the migration private key and calls the <strong><code class="language-plaintext highlighter-rouge">prepareAccountMigration</code></strong> method, which <strong>MUST</strong> performs the following operations:
    <ul>
      <li>Calls the internal method <strong><code class="language-plaintext highlighter-rouge">_requireAccountAuth()</code></strong> to verify the authenticity of the SCA account. For example, in ERC-4337 account implementation, it may require <strong><code class="language-plaintext highlighter-rouge">msg.sender == address(entryPoint)</code></strong>.</li>
      <li>Performs signature checks to confirm the validity of the <strong><code class="language-plaintext highlighter-rouge">randomOperator</code></strong>.</li>
      <li>Calls <strong><code class="language-plaintext highlighter-rouge">IERC7405Registry.migrationDataExists(randomOperator)</code></strong> to ensure that the <strong><code class="language-plaintext highlighter-rouge">randomOperator</code></strong> does not already exist.</li>
      <li>Sets the SCA account’s lock status to true and adds a record by calling <strong><code class="language-plaintext highlighter-rouge">IERC7405Registry.setMigrationData(randomOperator, lockUntil)</code></strong>.</li>
      <li>After calling <strong><code class="language-plaintext highlighter-rouge">prepareAccountMigration</code></strong>, the account remains locked until a successful call to either <strong><code class="language-plaintext highlighter-rouge">cancelAccountMigration</code></strong> or <strong><code class="language-plaintext highlighter-rouge">handleAccountMigration</code></strong>.</li>
    </ul>
  </li>
  <li>To continue the migration, Wallet B initializes authentication data and imports the migration mnemonic or private key. Wallet B then signs the <strong><code class="language-plaintext highlighter-rouge">MigrateOpHash</code></strong> using the migration private key and calls the <strong><code class="language-plaintext highlighter-rouge">handleWalletMigration</code></strong> method, which <strong>MUST</strong> performs the following operations:
    <ul>
      <li><strong>MUST NOT</strong> perform SCA account authentication checks to ensure public accessibility.</li>
      <li>Performs signature checks to confirm the validity of the <strong><code class="language-plaintext highlighter-rouge">randomOperator</code></strong>.</li>
      <li>Calls <strong><code class="language-plaintext highlighter-rouge">IERC7405Registry.getMigrationData(randomOperator)</code></strong> to retrieve <strong><code class="language-plaintext highlighter-rouge">migrationData</code></strong>, and requires <strong><code class="language-plaintext highlighter-rouge">require(migrationData.account == address(this) &amp;&amp; block.timestamp &gt; migrationData.lockUntil)</code></strong>.</li>
      <li>Calls the internal method <strong><code class="language-plaintext highlighter-rouge">_beforeWalletMigration()</code></strong> to execute pre-migration logic from Wallet A (e.g., data cleanup).</li>
      <li>Modifies the Proxy (ERC-1967) implementation to the implementation contract of Wallet B.</li>
      <li>Calls <strong><code class="language-plaintext highlighter-rouge">address(this).call(initData)</code></strong> to initialize the Wallet B contract.</li>
      <li>Calls <strong><code class="language-plaintext highlighter-rouge">IERC7405Registry.deleteMigrationData(randomOperator)</code></strong> to remove the record.</li>
      <li>Emits the <strong><code class="language-plaintext highlighter-rouge">AccountMigrated</code></strong> event.</li>
    </ul>
  </li>
  <li>If the migration needs to be canceled, Wallet A can call the <strong><code class="language-plaintext highlighter-rouge">cancelAccountMigration</code></strong> method, which <strong>MUST</strong> performs the following operations:
    <ul>
      <li>Calls the internal method <strong><code class="language-plaintext highlighter-rouge">_requireAccountAuth()</code></strong> to verify the authenticity of the SCA account.</li>
      <li>Sets the SCA account’s lock status to false and deletes the record by calling <strong><code class="language-plaintext highlighter-rouge">IERC7405Registry.deleteMigrationData(randomOperator)</code></strong>.</li>
    </ul>
  </li>
</ol>

<h3 id="storage-layout">Storage Layout</h3>

<p>To prevent conflicts in storage layout during migration across different wallet implementations, a Portable Smart Contract Account implementation contract:</p>

<ul>
  <li><strong>MUST NOT</strong> directly define state variables in the contract header.</li>
  <li><strong>MUST</strong> encapsulate all state variables within a struct and store that struct in a specific slot. The slot index <strong>SHOULD</strong> be unique across different wallet implementations.</li>
</ul>

<p>For slot index, we recommend calculating it based on the namespace and slot ID:</p>

<ul>
  <li>The namespace <strong>MUST</strong> contain only [A-Za-z0-9_].</li>
  <li>Wallet providers’ namespaces are <strong>RECOMMENDED</strong> to use snake_case, incorporating the wallet name and major version number, such as <strong><code class="language-plaintext highlighter-rouge">foo_wallet_v1</code></strong>.</li>
  <li>The slot ID for slot index <strong>SHOULD</strong> follow the format <strong><code class="language-plaintext highlighter-rouge">{namespace}.{customDomain}</code></strong>, for example, <strong><code class="language-plaintext highlighter-rouge">foo_wallet_v1.config</code></strong>.</li>
  <li>The calculation of the slot index is performed as <strong><code class="language-plaintext highlighter-rouge">bytes32(uint256(keccak256(slotID) - 1))</code></strong>.</li>
</ul>

<h2 id="rationale">Rationale</h2>

<p>The main challenge addressed by this EIP is the lack of portability in Smart Contract Accounts (SCAs). Currently, due to variations in SCA implementations across wallet providers, moving between wallets is a hassle. Proposing a modular approach, though beneficial in some respects, comes with its own costs and compatibility concerns.</p>

<p>The PSCA system, rooted in ERC-1967, introduces a migration mechanism reminiscent of exporting an EOA with a private key or mnemonic. This approach is chosen for its familiarity to users, ensuring a smoother user experience.</p>

<p>Employing random, migration-specific keys further fortifies security. By mimicking the EOA exportation process, we aim to keep the process recognizable, while addressing the unique challenges of SCA portability.</p>

<p>The decision to integrate with a shared registry at the protocol layer simplifies migration credentials. This system enables direct addressing of the SCA account using only the migration key, enhancing efficiency.</p>

<p>Storage layout considerations were paramount to avoid conflicts during migrations. Encapsulating state variables within a struct, stored in a unique slot, ensures that migrations don’t lead to storage overlaps or overwrites.</p>

<h2 id="backwards-compatibility">Backwards Compatibility</h2>

<p>This proposal is backward compatible with all SCA based on ERC-1967 Proxy, including non-ERC-4337 SCAs. Furthermore, this proposal does not have specific prerequisites for SCA implementation contracts, making it broadly applicable to various SCAs.</p>

<!--
## Reference Implementation

[WIP]
-->

<h2 id="security-considerations">Security Considerations</h2>

<ul>
  <li>Each migration must generate a new, randomly generated migration mnemonic or private key and its corresponding random operator address to prevent replay attacks or malicious signing.</li>
  <li>Different wallet implementations must consider the independence of storage layout to avoid conflicts in storage after migration.</li>
  <li>To prevent immediate loss of access for the account owner due to malicious migration, we introduce a “time lock” to make migrations detectable and reversible. When a malicious operation attempts an immediate migration of an SCA, the account enters a lock state and waits for a lock period. During this time, users can use the original account authentication to cancel the migration and prevent asset loss. Accounts in the lock state <strong>SHOULD NOT</strong> allow the following operations:
    <ul>
      <li>Any form of asset transfer operations</li>
      <li>Any form of external contract call operations</li>
      <li>Any attempts to modify account authentication factors</li>
      <li>Any operations that could potentially impact the above three</li>
    </ul>
  </li>
  <li>When performing migration operations, the wallet provider <strong>SHOULD</strong> attempt to notify the account owner of the migration details through all available messaging channels.</li>
</ul>

<h2 id="copyright">Copyright</h2>

<p>Copyright and related rights waived via <strong><a href="/LICENSE">CC0</a></strong>.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Ethereum Improvement Proposals</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Ethereum Improvement Proposals</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ethereum/EIPs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ethereum/EIPs</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Ethereum Improvement Proposals (EIPs) describe standards for the Ethereum platform, including core protocol specifications, client APIs, and contract standards.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
